import{a as Q}from"./chunk-IA752XXL.js";import"./chunk-4BEFVGD6.js";import{a as K}from"./chunk-5UJ33BDI.js";import"./chunk-YRO3XTLN.js";import"./chunk-BP5TLU4W.js";import{a as q}from"./chunk-EGGJNKID.js";import{a as R}from"./chunk-SI42NBAZ.js";import{a as O}from"./chunk-NOBC57G4.js";import"./chunk-BVOEAINN.js";import"./chunk-NTEY2CKU.js";import{a as W}from"./chunk-3H2ZASFZ.js";import{a as V,c as $}from"./chunk-FKI6MOIH.js";import"./chunk-OYPR7CJS.js";import{a as G}from"./chunk-C4GFRP34.js";import"./chunk-QYM5RSKG.js";import{b as A}from"./chunk-CMTXHUJM.js";import"./chunk-ZNXHGMTD.js";import"./chunk-XWGFS45Y.js";import"./chunk-IBXLELUQ.js";import{b as j}from"./chunk-SNYRKERH.js";import"./chunk-YOD5VGJA.js";import"./chunk-EJRI7FQQ.js";import"./chunk-XMGSTBON.js";import"./chunk-7VKCZCDP.js";import"./chunk-RIQ7EVWM.js";import"./chunk-U65D7S4X.js";import"./chunk-IJY46FI3.js";import"./chunk-CXGH7SOD.js";import"./chunk-D33HMA7I.js";import"./chunk-VRZECYYF.js";import"./chunk-IIDJZWRT.js";import"./chunk-7MFI6IJ7.js";import"./chunk-HIFLNZD5.js";import"./chunk-ZALICU3N.js";import"./chunk-47OJ7DES.js";import{c as L}from"./chunk-SAY5CNC2.js";import"./chunk-BFCDBX46.js";import"./chunk-G2FIETR4.js";import"./chunk-7DQT77OQ.js";import{i as k,j as B}from"./chunk-OHR5KDYC.js";import{G as w,Hb as m,Jb as d,Lb as b,Lc as u,Mb as h,Mc as _,Nb as y,Ob as c,Pb as p,Qb as l,Rb as g,V as I,Yb as T,Za as s,ac as x,cc as r,ia as C,ja as f,kb as E,ob as N,oc as F,p as P,qb as D,wc as v,xc as S,yc as M}from"./chunk-FPTGDBQG.js";import"./chunk-2QKSPLSF.js";function z(i,o){if(i&1&&g(0,"app-processing",4),i&2){let t=r(2);c("itemProcessing",t.selectedEntity)}}function H(i,o){if(i&1&&(p(0,"app-database-item-details",0),D(1,z,1,1,"ng-template",3),l()),i&2){let t=r();c("itemId",t.selectedEntity.output.item.id)("amount",t.selectedEntity.output.amount)}}function J(i,o){if(i&1){let t=T();p(0,"app-item-icon",9),x("click",function(){let n=C(t).$implicit,a=r(4);return f(a.showDetails(n))}),l()}if(i&2){let t=o.$implicit,e=r(4);F("selected-icon",(e.selectedEntity==null||e.selectedEntity.output==null||e.selectedEntity.output.item==null?null:e.selectedEntity.output.item.id)===t.output.item.id&&(e.reusedImages.includes(t.output.item.iconName??"")?t.input.item.iconName===(e.selectedEntity==null||e.selectedEntity.input==null||e.selectedEntity.input.item==null?null:e.selectedEntity.input.item.iconName):!0)&&t.output.amount===(e.selectedEntity==null||e.selectedEntity.output==null?null:e.selectedEntity.output.amount)),c("amount",t.output.amount)("itemName",t.output.item.iconName)("subIconName",e.reusedImages.includes(t.output.item.iconName??"")?t.input.item.iconName:void 0)}}function X(i,o){if(i&1&&(p(0,"div",6),h(1,J,1,5,"app-item-icon",8,b),l()),i&2){let t=r();s(),y(t)}}function Y(i,o){if(i&1&&g(0,"app-processor-table",7),i&2){let t=r();c("dataSource",t)}}function Z(i,o){if(i&1&&(m(0,X,3,0,"div",6),m(1,Y,1,1,"app-processor-table",7)),i&2){let t=r(2);d(t.showTable?-1:0),s(),d(t.showTable?1:-1)}}function ee(i,o){if(i&1){let t=T();p(0,"mat-tab",2),u(1,"addSpacesToPascalCase"),u(2,"titlecase"),p(3,"app-data-filter",5),M("showTableChange",function(n){C(t);let a=r();return S(a.showTable,n)||(a.showTable=n),f(n)}),l(),m(4,Z,2,2),u(5,"async"),l()}if(i&2){let t,e=o.$implicit,n=r();c("label",n.processorMapping[e.toLowerCase()]?n.processorMapping[e.toLowerCase()].displayName:_(2,5,_(1,3,e))),s(3),v("showTable",n.showTable),s(),d((t=_(5,7,n.filteredData$(e)))?4:-1,t)}}var fe=(()=>{let o=class o extends R{constructor(){super(),this.quality=L,this.machineNames=[],this.processorMapping=this._database.getProcessorMapping(),this.urlPathFromLabel=e=>{let n=Object.keys(this.processorMapping).find(a=>this.processorMapping[a].displayName===e);return n||e.toLowerCase().replaceAll(" ","")},this._database.fetchItemProcessingRecipes$().pipe(w(1)).subscribe({next:e=>{this.machineNames=Object.keys(e),this.activateTabFromRoute(this.machineNames)}})}filteredData$(e){return this._database.fetchItemProcessingRecipes$().pipe(P(n=>n[e]),I(n=>{this.reusedImages=this.getMultipleIconNames(n.map(a=>a.output.item.iconName??""))}))}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=E({type:o,selectors:[["app-processor"]],features:[N],decls:5,vars:2,consts:[["listDetail","","context","artisan",3,"itemId","amount"],[3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],["hideMaschine","",3,"itemProcessing"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"amount","itemName","subIconName","selected-icon"],[1,"icon-grid-item",3,"click","amount","itemName","subIconName"]],template:function(n,a){n&1&&(p(0,"app-list-detail-container"),m(1,H,2,2,"app-database-item-details",0),p(2,"mat-tab-group",1),x("selectedTabChange",function(U){return a.updateUrl(U)}),h(3,ee,6,9,"mat-tab",2,b),l()()),n&2&&(s(),d(a.selectedEntity?1:-1),s(),c("selectedIndex",a.selectedTabIndex()),s(),y(a.machineNames))},dependencies:[A,O,K,$,V,G,j,Q,q,k,W,B],encapsulation:2});let i=o;return i})();export{fe as ProcessorComponent};
