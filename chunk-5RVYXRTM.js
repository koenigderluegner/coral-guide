import{a as k}from"./chunk-W62UHBDW.js";import{a as L,b as W,c as U,d as j,e as O,f as Y,g as q,h as G,i as J,j as K,k as Q,l as X,m as Z,n as tt,o as et}from"./chunk-PEGVYEIS.js";import{b as V}from"./chunk-3NZE6WSA.js";import{d as N}from"./chunk-IP6ODCNA.js";import{a as P,b as z,e as y,f as A}from"./chunk-I7ZNO67X.js";import{Eb as M,Gb as S,Ib as x,Kb as I,Kc as _,Lb as R,Lc as C,Mb as H,Nb as h,Ob as a,Pb as o,Qb as g,Ub as d,Vb as c,Ya as s,bc as u,jb as v,mb as F,nb as $,pb as p,qc as r,rc as f,sc as T,tc as B,wa as E}from"./chunk-ELCUH6OG.js";import{a as D,b}from"./chunk-IGH4DTA6.js";var it=(()=>{let e=class e{transform(n){return"fishName"in n}};e.\u0275fac=function(l){return new(l||e)},e.\u0275pipe=F({name:"isFish",type:e,pure:!0});let t=e;return t})();function at(t,e){if(t&1&&(a(0,"td",17),g(1,"app-item-icon",18),o()),t&2){let i=e.$implicit;s(),h("itemName",i.item.iconName)}}function ot(t,e){t&1&&(a(0,"th",19),r(1," Name"),o()),t&2&&M("colspan",2)}function lt(t,e){if(t&1&&(a(0,"td",20),r(1),_(2,"translate"),o()),t&2){let i=e.$implicit;s(),f(C(2,1,i.item.displayName))}}function mt(t,e){t&1&&(a(0,"th",19),r(1," Rarity"),o())}function rt(t,e){if(t&1&&(a(0,"td",20),r(1),o()),t&2){let i=e.$implicit,n=u(2);s(),f(n.addSpacesToPascalCase(i.rarity))}}function st(t,e){t&1&&(a(0,"th",21),r(1," Location"),o())}function pt(t,e){if(t&1&&(a(0,"td",20),r(1),_(2,"isFish"),o()),t&2){let i=e.$implicit;s(),T("",(C(2,1,i)?i.spawnSettings[0]:i).spawnLocation.join(", ")," ")}}function dt(t,e){t&1&&(a(0,"th",19),r(1," Weather"),o())}function ct(t,e){if(t&1&&(a(0,"td",20),r(1),_(2,"isFish"),o()),t&2){let i=e.$implicit,n=u(2);s(),T("",n.getTruthyValues((C(2,1,i)?i.spawnSettings[0]:i).spawnWeather)," ")}}function _t(t,e){t&1&&(a(0,"th",21),r(1," Season"),o())}function Ct(t,e){if(t&1&&(r(0),_(1,"isFish")),t&2){let i=u().$implicit,n=u(2);T(" ",n.getTruthyValues((C(1,1,i)?i.spawnSettings[0]:i).spawnSeason)," ")}}function ut(t,e){if(t&1&&(a(0,"div",22),r(1),o()),t&2){let i=e.$implicit,n=e.$index,l=e.$count;s(),B("",i,"",n!==l-1?", ":""," ")}}function ft(t,e){if(t&1&&(R(0,ut,2,2,"div",22,I),_(2,"isFish")),t&2){let i=u().$implicit,n=u(2);H(n.dateRangesToString((C(2,0,i)?i.spawnSettings[0]:i).dateRangeList))}}function ht(t,e){if(t&1&&(a(0,"td",20),S(1,Ct,2,3),_(2,"isFish"),S(3,ft,3,2),_(4,"isFish"),o()),t&2){let i=e.$implicit;s(),x((C(2,2,i)?i.spawnSettings[0]:i).isUsingSpecificDate?-1:1),s(2),x((C(4,4,i)?i.spawnSettings[0]:i).isUsingSpecificDate?3:-1)}}function Tt(t,e){t&1&&(a(0,"th",19),r(1," Time"),o())}function St(t,e){if(t&1&&(a(0,"td",20),r(1),_(2,"isFish"),o()),t&2){let i=e.$implicit,n=u(2);s(),T("",n.getTruthyValues((C(2,1,i)?i.spawnSettings[0]:i).spawnTime)," ")}}function xt(t,e){t&1&&(a(0,"th",19),r(1," Size"),o())}function gt(t,e){if(t&1&&(a(0,"td",20),r(1),o()),t&2){let i=e.$implicit;s(),f(i.fishSize)}}function yt(t,e){t&1&&(a(0,"th",19),r(1," Pattern"),o())}function wt(t,e){if(t&1&&(a(0,"td",20),r(1),o()),t&2){let i=e.$implicit;s(),f(i.pattern)}}function Dt(t,e){t&1&&(a(0,"th",19),r(1," Difficulty"),o())}function bt(t,e){if(t&1&&(a(0,"td",20),r(1),_(2,"addSpacesToPascalCase"),o()),t&2){let i=e.$implicit;s(),f(C(2,1,i.difficulty))}}function Et(t,e){t&1&&g(0,"tr",23)}function vt(t,e){t&1&&g(0,"tr",24)}function Ft(t,e){if(t&1&&(a(0,"table",0),d(1,1),p(2,at,2,1,"td",2),c(),d(3,3),p(4,ot,2,1,"th",4)(5,lt,3,3,"td",5),c(),d(6,6),p(7,mt,2,0,"th",4)(8,rt,2,1,"td",5),c(),d(9,7),p(10,st,2,0,"th",8)(11,pt,3,3,"td",5),c(),d(12,9),p(13,dt,2,0,"th",4)(14,ct,3,3,"td",5),c(),d(15,10),p(16,_t,2,0,"th",8)(17,ht,5,6,"td",5),c(),d(18,11),p(19,Tt,2,0,"th",4)(20,St,3,3,"td",5),c(),d(21,12),p(22,xt,2,0,"th",4)(23,gt,2,1,"td",5),c(),d(24,13),p(25,yt,2,0,"th",4)(26,wt,2,1,"td",5),c(),d(27,14),p(28,Dt,2,0,"th",4)(29,bt,3,3,"td",5),c(),p(30,Et,1,0,"tr",15)(31,vt,1,0,"tr",16),o()),t&2){let i=u();h("dataSource",i.matDataSource),s(30),h("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),s(),h("matRowDefColumns",i.displayedColumns)}}var Vt=(()=>{let e=class e extends tt{constructor(){super(...arguments),this.getTruthyValues=y,this.addSpacesToPascalCase=A,this.BASE_DISPLAY_COLUMNS=["icon","key","rarity","weather","season","time","location"],this.sortingDataAccessor=(n,l)=>{switch(l){case"rarity":return P.get(n[l])??0;case"key":return n[l];case"time":{let m=this._isFish(n)?n.spawnSettings[0].spawnTime:n.spawnTime;return y(m)==="Any"?1:m.morning?10:m.afternoon?20:m.evening?30:m.night?40:0}case"weather":{let m=this._isFish(n)?n.spawnSettings[0].spawnWeather:n.spawnWeather;return y(m)==="Any"?1:m.sunny?10:m.rain?20:m.snow?30:m.blizzard?40:m.windy?50:m.storm?60:0}}if(this._isFish(n))switch(l){case"fishSize":return z.get(n.fishSize)??0;case"pattern":case"difficulty":return n[l]}return 0}}static _isFishArray(n){return!!n?.[0]&&"fishName"in n[0]}dateRangesToString(n){return n.map(l=>`From ${l.startsFrom.season} ${l.startsFrom.day} to ${l.lastsTill.season} ${l.lastsTill.day}`)}setupDataSource(n){let l=n;e._isFishArray(n)&&(l=n.map(m=>m.spawnSettings.map(w=>b(D({},m),{spawnSettings:[w]}))).flat()),super.setupDataSource(l),e._isFishArray(this._dataSource())&&(this.displayedColumns.splice(3,0,"fishSize"),this.displayHeaderColumns.splice(2,0,"fishSize"),this.displayedColumns.splice(4,0,"pattern"),this.displayHeaderColumns.splice(3,0,"pattern"),this.displayedColumns.splice(5,0,"difficulty"),this.displayHeaderColumns.splice(4,0,"difficulty"))}_isFish(n){return!!n&&"fishName"in n}};e.\u0275fac=(()=>{let n;return function(m){return(n||(n=E(e)))(m||e)}})(),e.\u0275cmp=v({type:e,selectors:[["app-caught-table"]],features:[$],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["mat-cell","","class","!px-2 ",4,"matCellDef"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rarity"],["matColumnDef","location"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","weather"],["matColumnDef","season"],["matColumnDef","time"],["matColumnDef","fishSize"],["matColumnDef","pattern"],["matColumnDef","difficulty"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!px-2"],[1,"mx-2",3,"itemName"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"whitespace-nowrap"],["mat-header-row",""],["mat-row",""]],template:function(l,m){l&1&&(a(0,"app-responsive-table"),S(1,Ft,32,4,"table",0),o()),l&2&&(s(),x(m.matDataSource?1:-1))},dependencies:[et,X,V,Z,Q,L,U,q,j,W,G,O,Y,J,K,it,k,N],encapsulation:2});let t=e;return t})();export{Vt as a};
