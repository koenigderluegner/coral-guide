import{a as dt}from"./chunk-NXCWZHPG.js";import"./chunk-BYXBJQAS.js";import"./chunk-JSS26DYL.js";import{a as mt,b as ct}from"./chunk-D4XXG6A2.js";import"./chunk-XCXL4XHH.js";import{b as ee}from"./chunk-6GSJA3FK.js";import"./chunk-SDZD6YCY.js";import"./chunk-M4K5OVLF.js";import{a as ue,b as fe,c as qe,d as K,e as Y,f as J,g as Q}from"./chunk-NO4ZDRWS.js";import{a as _e}from"./chunk-YH33I3GS.js";import"./chunk-DPHI5PSG.js";import"./chunk-XQTXOEWR.js";import"./chunk-6NCSHYGI.js";import"./chunk-OGS4EVII.js";import"./chunk-6YB7A7ZH.js";import"./chunk-GBZAIAZB.js";import"./chunk-ODWDCLXK.js";import"./chunk-F4TUYCIO.js";import"./chunk-4ZSEYW2U.js";import"./chunk-SKYGTZSD.js";import"./chunk-4FC5X73U.js";import"./chunk-EEJJBISB.js";import{a as lt}from"./chunk-W62UHBDW.js";import{a as ye}from"./chunk-MG3YOV2C.js";import{a as be}from"./chunk-32PODRCK.js";import{b as rt,c as st}from"./chunk-MCZ27GCN.js";import"./chunk-XCL4JOYZ.js";import"./chunk-EAHNU44C.js";import{b as Ce}from"./chunk-3NZE6WSA.js";import{c as ge}from"./chunk-NS43UFKU.js";import"./chunk-DS5QD6KN.js";import"./chunk-XMGSTBON.js";import{a as G,e as L}from"./chunk-VEYYY66H.js";import"./chunk-4I65K53K.js";import{c as X,g as R,h as Ke,i as Ye,l as T,m as Je,o as Qe,p as he,q as Xe,r as Ze,s as et,t as tt,u as it,v as U,w as Z}from"./chunk-AZ3T5YEV.js";import"./chunk-7MLGAPHH.js";import{d as ot}from"./chunk-IP6ODCNA.js";import{a as We,b as He}from"./chunk-5BU3IDKS.js";import{c as pe,d as je}from"./chunk-I7ZNO67X.js";import{a as at}from"./chunk-24VFFX2T.js";import{c as ze}from"./chunk-7M6VBWZN.js";import"./chunk-C6P6X2N5.js";import"./chunk-YU6OV3L2.js";import{a as M}from"./chunk-OTWAXCZF.js";import{h as nt}from"./chunk-NKAP6NYB.js";import{a as k,h as Pe,k as Oe}from"./chunk-KM3RDE6Q.js";import"./chunk-JY3RTIIU.js";import"./chunk-2SASL4UW.js";import"./chunk-B7M7KWVX.js";import{i as Le}from"./chunk-PK2RARDK.js";import{$b as _,Bb as Ne,Cb as Ae,Cc as E,Gb as q,Hb as Ve,Ib as z,Ic as xe,Kb as $,Kc as re,Lb as x,Lc as se,Mb as v,Nb as m,Ob as a,P as ne,Pb as o,Qb as f,Qc as me,Rc as B,Sc as ce,Tc as Ue,V,Xb as O,Xc as Ge,Ya as s,Yc as de,Z as we,bc as y,ca as C,ia as S,ja as I,jb as g,k as ie,nb as Ee,nc as le,p as Ie,pb as Te,qb as Me,qc as c,rc as oe,sa as P,sc as ae,v as ke,vc as $e,wa as Fe,wc as Be,xc as Re}from"./chunk-ELCUH6OG.js";import{f as p,g as F,h as te}from"./chunk-IGH4DTA6.js";var pt=(()=>{var e,i,d,r;let n=class n extends We{constructor(){super(...arguments);F(this,e,P([]));F(this,i,P([]));F(this,d,P([]));F(this,r,P([]))}getFish$(){return p(this,e).call(this).length?ie(p(this,e).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-fish.json`).pipe(V(h=>p(this,e).set(h)),ne(1))}getInsects$(){return p(this,i).call(this).length?ie(p(this,i).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-insects.json`).pipe(V(h=>p(this,i).set(h)),ne(1))}getOceanCritters$(){return p(this,d).call(this).length?ie(p(this,d).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-ocean-critters.json`).pipe(V(h=>p(this,d).set(h)),ne(1))}getFish(){return p(this,e).asReadonly()}getInsects(){return p(this,i).asReadonly()}getOceanCritter(){return p(this,d).asReadonly()}getBirthdays$(){return p(this,r).call(this).length?ie(p(this,r).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/birthdays.json`).pipe(V(h=>p(this,r).set(h)),ne(1))}getBirthdays(){return p(this,r).asReadonly()}};e=new WeakMap,i=new WeakMap,d=new WeakMap,r=new WeakMap,n.\u0275fac=(()=>{let h;return function(A){return(h||(h=Fe(n)))(A||n)}})(),n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var ut=t=>["/npcs",t];function bt(t,e){if(t&1){let i=O();a(0,"app-item-icon",11),_("click",function(){S(i);let r=y().$implicit,n=y(2);return I(n.itemClicked.emit(r.item))}),o()}if(t&2){let i=y().$implicit;m("itemName",i.item.iconName)}}function xt(t,e){if(t&1&&(a(0,"span"),c(1),re(2,"addSpacesToPascalCase"),o()),t&2){let i=y().$implicit;s(),ae("All ",se(2,1,i.categoryName))}}function vt(t,e){if(t&1&&(q(0,bt,1,1,"app-item-icon",10),q(1,xt,3,3,"span")),t&2){let i=e.$implicit;z(i.type==="item"?0:-1),s(),z(i.type==="category"?1:-1)}}function Dt(t,e){t&1&&c(0," No individual loved gifts. ")}function St(t,e){if(t&1&&(a(0,"div",0)(1,"div",1)(2,"a",2),f(3,"app-item-icon",3),o(),a(4,"div",4)(5,"a",5),c(6),re(7,"translate"),o()()(),a(8,"div",6)(9,"div",7),f(10,"app-ui-icon",8),c(11," Loved "),o(),a(12,"div",9),x(13,vt,2,2,null,null,$,!1,Dt,1,0),o()()()),t&2){let i=e.$implicit,d=y();s(2),m("routerLink",xe(8,ut,i.npcKey)),s(),m("itemName",i.iconName),s(2),m("routerLink",xe(10,ut,i.npcKey)),s(),ae(" ",se(7,6,i.characterName)," "),s(4),m("uiIcon",d.UiIcon.LOVE),s(3),v(i.lovedGifts)}}function It(t,e){t&1&&(a(0,"p"),c(1,"No birthdays."),o())}var ft=(()=>{let e=class e{constructor(){this.birthdays=de.required(),this.itemClicked=Ge(),this.UiIcon=k,this.uiIcon=k}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-birthday-dashboard"]],hostAttrs:[1,"flex","flex-col","gap-3"],inputs:{birthdays:[1,"birthdays"]},outputs:{itemClicked:"itemClicked"},decls:3,vars:1,consts:[[1,"flex","gap-1","flex-col"],[1,"text-2xl","text-black","font-semibold","flex","gap-2","items-center","gifting-portrait"],[3,"routerLink"],[1,"h-12","birthday-npc-image",3,"itemName"],[1,"flex","flex-col"],[1,"flex","gap-2","items-center",3,"routerLink"],[1,"flex","gap-2"],[1,"font-semibold","flex","items-center","flex-col","shrink-0","basis-12","text-black"],[1,"!text-gifting","!h-6","!w-6",3,"uiIcon"],[1,"flex","items-center","gap-2.5","flex-wrap"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"itemName"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"click","itemName"]],template:function(r,n){r&1&&x(0,St,16,12,"div",0,$,!1,It,2,0,"p"),r&2&&v(n.birthdays())},dependencies:[M,nt,Ce,lt,ot],styles:[`.birthday-npc-image.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center bottom}.birthday-gift-icon.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center}
`],encapsulation:2});let t=e;return t})();function kt(t,e){if(t&1&&(a(0,"mat-option",6),c(1),o()),t&2){let i=e.$implicit;m("value",i),s(),oe(i)}}function wt(t,e){if(t&1&&(a(0,"mat-option",6),c(1),o()),t&2){let i=e.$implicit;m("value",i),s(),oe(i)}}var ht=(()=>{let e=class e{constructor(){this.parentFormGroup=de.required(),this.Weathers=Oe,this.Seasons=Pe}increaseDay(d){this.parentFormGroup().patchValue(pe(this.parentFormGroup().getRawValue(),d))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-dashboard-filter"]],inputs:{parentFormGroup:[1,"parentFormGroup"]},decls:25,vars:1,consts:[[1,"flex","flex-wrap","gap-x-3","gap-y-4",3,"formGroup"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","3rem"],["formControlName","day","inputmode","number","matInput","","max","28","min","1","pattern","[0-9]","type","number"],[1,"btn","-ml-2","touch-manipulation",3,"click"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","5rem"],["disableOptionCentering","","formControlName","season"],[3,"value"],["formControlName","year","inputmode","number","matInput","","min","1","pattern","[0-9]","type","number"],["disableOptionCentering","","formControlName","weather"],["formControlName","hideCompleted",1,"text-white","self-center"]],template:function(r,n){r&1&&(a(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),c(3,"Day"),o(),f(4,"input",2),o(),a(5,"button",3),_("click",function(){return n.increaseDay(1)}),c(6,"+"),o(),a(7,"mat-form-field",4)(8,"mat-label"),c(9,"Season"),o(),a(10,"mat-select",5),x(11,kt,2,2,"mat-option",6,$),o()(),a(13,"mat-form-field",1)(14,"mat-label"),c(15,"Year"),o(),f(16,"input",7),o(),a(17,"mat-form-field",4)(18,"mat-label"),c(19,"Weather"),o(),a(20,"mat-select",8),x(21,wt,2,2,"mat-option",6,$),o()(),a(23,"mat-checkbox",9),c(24,"Hide completed"),o()()),r&2&&(m("formGroup",n.parentFormGroup()),s(11),v(n.Seasons),s(10),v(n.Weathers))},dependencies:[U,X,Qe,R,Ke,it,tt,et,L,G,ge,be,Z,Xe,Ze,_e,ee],encapsulation:2});let t=e;return t})();var _t=(()=>{let e=class e{constructor(){this.dialogData=C(fe),this.dialogRef=C(ue),this.nameControl=new T(this.dialogData.userData.name,{nonNullable:!0}),this.UiIcon=k}save(){this.dialogRef.close(this.nameControl.value.trim())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-edit-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[1,"semi-transparent-form-field","semi-transparent-form-field-dark","my-3"],["matInput","",3,"formControl"],[1,"!justify-between"],["matDialogClose","",1,"btn-amber"],[1,"btn-success","space-x-2","items-center",3,"click","disabled"],[1,"!size-5",3,"uiIcon"]],template:function(r,n){r&1&&(a(0,"h1",0),c(1,"Edit save game data"),o(),a(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),c(6,"Name"),o(),f(7,"input",4),o()()(),a(8,"mat-dialog-actions",5)(9,"button",6),c(10,"Close"),o(),a(11,"button",7),_("click",function(){return n.save()}),f(12,"app-ui-icon",8),a(13,"span"),c(14,"Update"),o()()()),r&2&&(s(7),m("formControl",n.nameControl),s(4),m("disabled",n.nameControl.value.trim().length===0),s(),m("uiIcon",n.UiIcon.SETTINGS))},dependencies:[Q,K,J,Y,U,X,R,L,ee,G,M,Z,he],encapsulation:2});let t=e;return t})();var yt=(()=>{let e=class e{constructor(){this.dialogData=C(fe),this.UiIcon=k}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-delete-dialog"]],decls:12,vars:4,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[1,"!justify-between"],[1,"btn-amber",3,"matDialogClose"],[1,"btn-danger","space-x-2","items-center",3,"matDialogClose"],[1,"!size-5",3,"uiIcon"]],template:function(r,n){r&1&&(a(0,"h1",0),c(1,"Delete save game data"),o(),a(2,"mat-dialog-content",1)(3,"div",2),c(4),o()(),a(5,"mat-dialog-actions",3)(6,"button",4),c(7,"No, cancel"),o(),a(8,"button",5),f(9,"app-ui-icon",6),a(10,"span"),c(11,"Yes, delete"),o()()()),r&2&&(s(4),ae(' Are you sure you want to delete "',n.dialogData.userData.name,'"? This cannot be undone. '),s(2),m("matDialogClose",!1),s(2),m("matDialogClose",!0),s(),m("uiIcon",n.UiIcon.TRASH_CAN))},dependencies:[Q,K,J,Y,M],encapsulation:2});let t=e;return t})();var Ct=(()=>{let e=class e{constructor(){this.dialogRef=C(ue),this.nameControl=new T("",{nonNullable:!0}),this.UiIcon=k}save(){this.dialogRef.close(this.nameControl.value.trim())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-add-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[1,"semi-transparent-form-field","semi-transparent-form-field-dark","my-3"],["matInput","",3,"formControl"],[1,"!justify-between"],["matDialogClose","",1,"btn-amber"],[1,"btn-success","space-x-2","items-center",3,"click","disabled"],[1,"!size-5",3,"uiIcon"]],template:function(r,n){r&1&&(a(0,"h1",0),c(1,"Add save game data"),o(),a(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),c(6,"Name"),o(),f(7,"input",4),o()()(),a(8,"mat-dialog-actions",5)(9,"button",6),c(10,"Close"),o(),a(11,"button",7),_("click",function(){return n.save()}),f(12,"app-ui-icon",8),a(13,"span"),c(14,"Create"),o()()()),r&2&&(s(7),m("formControl",n.nameControl),s(4),m("disabled",n.nameControl.value.trim().length===0),s(),m("uiIcon",n.UiIcon.PLUS))},dependencies:[Q,K,J,Y,U,X,R,L,ee,G,Z,he,M],encapsulation:2});let t=e;return t})();function Ft(t,e){if(t&1&&(a(0,"mat-option",2),c(1),o()),t&2){let i=e.$implicit,d=e.$index;m("value",d),s(),oe(i.name)}}var gt=(()=>{var e,i;let d=class d{constructor(){F(this,e);F(this,i);this.UiIcon=k,te(this,e,C(ye)),this.options=B(()=>p(this,e).userData().data),this.selectedIndex=Ue(()=>p(this,e).userData().currentIndex),te(this,i,C(qe)),ce(()=>{let n=this.selectedIndex();p(this,e).currentIndex.set(n),me(()=>{p(this,e).save()})})}openAddDialog(){p(this,i).open(Ct,{hasBackdrop:!0,width:"400px"}).afterClosed().subscribe({next:l=>{if(l){let u=p(this,e).createEmptyUserData(l);p(this,e).userData()?.data.push(u),p(this,e).save()}}})}openEditDialog(){p(this,i).open(_t,{data:{userData:p(this,e).currentData()},hasBackdrop:!0,width:"400px"}).afterClosed().subscribe({next:l=>{l&&(p(this,e).currentData().name=l,p(this,e).save())}})}openDeleteDialog(){p(this,i).open(yt,{data:{userData:p(this,e).currentData()},hasBackdrop:!0,width:"400px"}).afterClosed().subscribe({next:l=>{l&&(p(this,e).delete(),this.selectedIndex.set(p(this,e).currentIndex()))}})}};e=new WeakMap,i=new WeakMap,d.\u0275fac=function(l){return new(l||d)},d.\u0275cmp=g({type:d,selectors:[["app-user-data-actions"]],hostAttrs:[1,"inline-flex","gap-2","items-start","flex-wrap"],decls:12,vars:6,consts:[[1,"semi-transparent-form-field"],[3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"btn","touch-manipulation",3,"click"],[1,"!size-6",3,"uiIcon"],[1,"btn","touch-manipulation",3,"click","disabled"]],template:function(l,u){l&1&&(a(0,"mat-form-field",0)(1,"mat-label"),c(2,"Selected data"),o(),a(3,"mat-select",1),Re("ngModelChange",function(b){return Be(u.selectedIndex,b)||(u.selectedIndex=b),b}),x(4,Ft,2,2,"mat-option",2,$),o()(),a(6,"button",3),_("click",function(){return u.openEditDialog()}),f(7,"app-ui-icon",4),o(),a(8,"button",5),_("click",function(){return u.openDeleteDialog()}),f(9,"app-ui-icon",4),o(),a(10,"button",3),_("click",function(){return u.openAddDialog()}),f(11,"app-ui-icon",4),o()),l&2&&(s(3),$e("ngModel",u.selectedIndex),m("disabled",u.options().length<=1),s(),v(u.options()),s(3),m("uiIcon",u.UiIcon.SETTINGS),s(),m("disabled",u.options().length<=1),s(),m("uiIcon",u.UiIcon.TRASH_CAN),s(2),m("uiIcon",u.UiIcon.PLUS))},dependencies:[L,be,ge,G,U,R,Je,M],encapsulation:2});let t=d;return t})();var Et=()=>[import("./chunk-FAD35FKO.js").then(t=>t.MatProgressSpinner)],De=(t,e)=>e.entry.id+e.context;function Tt(t,e){if(t&1&&f(0,"app-offering",6),t&2){let i=e.$implicit;m("details",i)}}function Mt(t,e){if(t&1&&(a(0,"app-item-card-switch",1),Te(1,Tt,1,1,"ng-template",5),o()),t&2){let i=y();m("item",i.selectedEntity)}}function Nt(t,e){if(t&1){let i=O();a(0,"div",16)(1,"app-item-icon",17),_("click",function(){let r=S(i).$implicit,n=y(2);return I(n.showDetails({id:r.entry.id,displayName:"",iconName:r.entry.iconName}))}),o(),a(2,"label",18)(3,"mat-checkbox",19),_("change",function(r){let n=S(i).$implicit;return y(2).updateChecklist(r,n.entry.id),I(n.completed=!n.completed)}),o()()()}if(t&2){let i=e.$implicit;le("checklist-checked",i.completed),s(),m("itemName",i.entry.iconName),s(),m("for",E("entry-",i.entry.id,"-input")),s(),m("id",E("entry-",i.entry.id))("name",E("entry-",i.entry.id))("checked",i.completed)}}function At(t,e){t&1&&(a(0,"p",15),c(1,"No more fish to catch :)"),o())}function Vt(t,e){if(t&1){let i=O();a(0,"div",16)(1,"app-item-icon",17),_("click",function(){let r=S(i).$implicit,n=y(2);return I(n.showDetails({id:r.entry.id,displayName:"",iconName:r.entry.iconName}))}),o(),a(2,"label",18)(3,"mat-checkbox",19),_("change",function(r){let n=S(i).$implicit;return y(2).updateChecklist(r,n.entry.id),I(n.completed=!n.completed)}),o()()()}if(t&2){let i=e.$implicit;le("checklist-checked",i.completed),s(),m("itemName",i.entry.iconName),s(),m("for",E("entry-",i.entry.id,"-input")),s(),m("id",E("entry-",i.entry.id))("name",E("entry-",i.entry.id))("checked",i.completed)}}function $t(t,e){t&1&&(a(0,"p",15),c(1,"No more bugs to catch :)"),o())}function Bt(t,e){if(t&1){let i=O();a(0,"div",16)(1,"app-item-icon",17),_("click",function(){let r=S(i).$implicit,n=y(2);return I(n.showDetails({id:r.entry.id,displayName:"",iconName:r.entry.iconName}))}),o(),a(2,"label",18)(3,"mat-checkbox",19),_("change",function(r){let n=S(i).$implicit;return y(2).updateChecklist(r,n.entry.id),I(n.completed=!n.completed)}),o()()()}if(t&2){let i=e.$implicit;le("checklist-checked",i.completed),s(),m("itemName",i.entry.iconName),s(),m("for",E("entry-",i.entry.id,"-input")),s(),m("id",E("entry-",i.entry.id))("name",E("entry-",i.entry.id))("checked",i.completed)}}function Rt(t,e){t&1&&(a(0,"p",15),c(1,"No more ocean critters to catch :)"),o())}function Ut(t,e){if(t&1){let i=O();a(0,"section",7)(1,"h2",8),c(2," Birthdays "),o(),a(3,"app-card",9)(4,"div",10)(5,"div")(6,"h2",11),c(7," Today "),o(),a(8,"app-birthday-dashboard",12),_("itemClicked",function(r){S(i);let n=y();return I(n.showDetails(r))}),o()(),a(9,"div")(10,"h2",11),c(11," Tomorrow "),o(),a(12,"app-birthday-dashboard",12),_("itemClicked",function(r){S(i);let n=y();return I(n.showDetails(r))}),o()()()()(),a(13,"section",7)(14,"h2",8),c(15," Fish "),o(),a(16,"div",13),x(17,Nt,4,10,"div",14,De,!1,At,2,0,"p",15),o()(),a(20,"section",7)(21,"h2",8),c(22," Insects "),o(),a(23,"div",13),x(24,Vt,4,10,"div",14,De,!1,$t,2,0,"p",15),o()(),a(27,"section",7)(28,"h2",8),c(29," Ocean critters "),o(),a(30,"div",13),x(31,Bt,4,10,"div",14,De,!1,Rt,2,0,"p",15),o()()}if(t&2){let i=y();s(8),m("birthdays",i.birthdaysToday()),s(4),m("birthdays",i.birthdaysTomorrow()),s(5),v(i.fish()),s(7),v(i.insects()),s(7),v(i.oceanCritter())}}function Gt(t,e){t&1&&f(0,"mat-spinner",20)}function Lt(t,e){t&1&&(Me(0,Gt,1,0),Ne(1,0,Et),Ae())}var bn=(()=>{var e;let i=class i extends st{constructor(){super();F(this,e);this.dashboards=C(pt),this.museumChecklistService=C(dt),this.userData=C(ye),te(this,e,C(He)),this.museumChecklistDefinition$=p(this,e).fetchMuseumChecklist$(),this.museuemDef=P({}),this.requests$=ke({museumDefinition:this.museumChecklistDefinition$.pipe(V(l=>this.museuemDef.set(l))),fish:this.dashboards.getFish$(),insects:this.dashboards.getInsects$(),oceanCritters:this.dashboards.getOceanCritters$(),birthdays:this.dashboards.getBirthdays$()}),this.filterFormGroup=new Ye({season:new T("Spring",{nonNullable:!0}),weather:new T("Sunny",{nonNullable:!0}),day:new T(1,{nonNullable:!0}),year:new T(1,{nonNullable:!0}),hideCompleted:new T(!0,{nonNullable:!0})}),ce(()=>{let l=this.userData.currentData().myGuideFilter;me(()=>this.filterFormGroup.patchValue(l))});let n=ze(this.filterFormGroup.valueChanges.pipe(Ie(()=>this.filterFormGroup.getRawValue()),V(l=>{this.userData.currentData().myGuideFilter=l,this.userData.save()})),{initialValue:this.filterFormGroup.getRawValue()});this.fish=B(()=>{let l=this.dashboards.getFish(),u=n().season,h=n().weather,b=n().hideCompleted,A=l().filter(N=>{let D=N.seasons.includes(u)&&N.weathers.includes(h),w={day:n().day,season:n().season,year:n().year},H=N.dateRanges.map(Se=>({from:Se.startsFrom,to:Se.lastsTill}));return D&&(!N.dateRanges.length||je(w,H,!0))}),j=[];return this.museuemDef().Fish.forEach(N=>{let D=A.find(w=>w.id===N.id);if(D){let w=this.museumChecklistService.isChecked(D.id);w&&b||j.push({completed:w,context:"museum",entry:D})}}),j}),this.insects=B(()=>{let l=this.dashboards.getInsects();return this.critterEntriesToList(l(),n(),this.museuemDef().Insects)}),this.oceanCritter=B(()=>{let l=this.dashboards.getOceanCritter();return this.critterEntriesToList(l(),n(),this.museuemDef()["Sea critters"])}),this.birthdaysToday=B(()=>{let l=this.dashboards.getBirthdays()(),u=n().season,h=n().day;return l.filter(b=>b.birthday.day===h&&b.birthday.season===u)}),this.birthdaysTomorrow=B(()=>{let l=this.dashboards.getBirthdays()(),u=n().season,b={day:n().day,season:u,year:1},A=pe(b,1);return l.filter(j=>j.birthday.day===A.day&&j.birthday.season===A.season)})}critterEntriesToList(n,l,u){let h=l.season,b=l.weather,A=l.hideCompleted,j=n.filter(D=>D.seasons.includes(h)&&(D.weathers.includes(b)||!D.weathers.length)),N=[];return u.forEach(D=>{let w=j.find(H=>H.id===D.id);if(w){let H=this.museumChecklistService.isChecked(w.id);H&&A||N.push({completed:H,context:"museum",entry:w})}}),N}updateChecklist(n,l){this.museumChecklistService.isChecked(l)?this.museumChecklistService.remove(l):this.museumChecklistService.add(l)}};e=new WeakMap,i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=g({type:i,selectors:[["app-index"]],features:[Ee],decls:10,vars:6,consts:[[3,"removePlaceholder"],["listDetail","",3,"item"],[1,"flex","flex-col","md:flex-row","gap-4","md:gap-8","mb-12"],[1,"font-semibold","text-3xl","text-white","flex","items-center","gap-x-4"],[1,"my-5","block",3,"parentFormGroup"],["appDatabaseItemDetails",""],[3,"details"],[1,"my-2"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[1,"@container"],[1,"@3xl:grid-cols-2","grid","gap-x-3","gap-y-5"],[1,"mb-4","font-semibold","text-2xl","text-black"],[3,"itemClicked","birthdays"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked"],[1,"col-span-full","text-white"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"change","id","checked","name"],[1,"mx-auto"]],template:function(l,u){l&1&&(a(0,"app-list-detail-container",0),q(1,Mt,2,1,"app-item-card-switch",1),a(2,"div",2)(3,"h1",3),c(4," My Coral Guide "),o(),f(5,"app-user-data-actions"),o(),f(6,"app-dashboard-filter",4),q(7,Ut,34,5),re(8,"async"),Ve(9,Lt,3,0),o()),l&2&&(m("removePlaceholder",u.showTable),s(),z(u.selectedEntity?1:-1),s(5),m("parentFormGroup",u.filterFormGroup),s(),z(se(8,4,u.requests$)?7:9))},dependencies:[ft,rt,ct,mt,ht,at,Ce,_e,gt,Le],encapsulation:2});let t=i;return t})();export{bn as IndexComponent};
