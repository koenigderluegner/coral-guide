import{a as Z}from"./chunk-L5XZOWBG.js";import{a as Y}from"./chunk-H6RXNYFT.js";import"./chunk-L5G7Q7YK.js";import"./chunk-4BEFVGD6.js";import"./chunk-BP5TLU4W.js";import{a as J}from"./chunk-EGGJNKID.js";import{a as K}from"./chunk-SI42NBAZ.js";import{a as z}from"./chunk-NOBC57G4.js";import"./chunk-BVOEAINN.js";import"./chunk-NTEY2CKU.js";import{a as y}from"./chunk-3H2ZASFZ.js";import{a as O,c as G}from"./chunk-FKI6MOIH.js";import"./chunk-OYPR7CJS.js";import{a as X}from"./chunk-C4GFRP34.js";import"./chunk-QYM5RSKG.js";import{b as H}from"./chunk-CMTXHUJM.js";import"./chunk-ZNXHGMTD.js";import"./chunk-XWGFS45Y.js";import"./chunk-IBXLELUQ.js";import{b as Q}from"./chunk-SNYRKERH.js";import"./chunk-YOD5VGJA.js";import"./chunk-EJRI7FQQ.js";import"./chunk-XMGSTBON.js";import"./chunk-7VKCZCDP.js";import"./chunk-RIQ7EVWM.js";import"./chunk-U65D7S4X.js";import"./chunk-IJY46FI3.js";import"./chunk-CXGH7SOD.js";import"./chunk-D33HMA7I.js";import"./chunk-VRZECYYF.js";import"./chunk-IIDJZWRT.js";import"./chunk-7MFI6IJ7.js";import"./chunk-HIFLNZD5.js";import"./chunk-ZALICU3N.js";import"./chunk-47OJ7DES.js";import{c as q}from"./chunk-SAY5CNC2.js";import"./chunk-BFCDBX46.js";import"./chunk-G2FIETR4.js";import"./chunk-7DQT77OQ.js";import{i as W,j}from"./chunk-OHR5KDYC.js";import{G as M,Hb as p,Jb as m,Lb as E,Lc as C,Mb as g,Mc as f,Nb as h,Ob as r,Pb as c,Qb as d,Rb as k,Sb as _,Tb as x,V as P,Yb as D,Za as s,Zc as A,ac as S,cc as l,ia as v,ja as w,kb as b,ob as B,oc as T,p as F,q as N,qb as $,rc as u,sc as I,vc as L,wc as U,xc as R,yc as V}from"./chunk-FPTGDBQG.js";import"./chunk-2QKSPLSF.js";function ne(e,i){if(e&1&&(_(0,"div",1),u(1,"Buff: "),_(2,"span",0),u(3),C(4,"addSpacesToPascalCase"),x()()),e&2){let n=l();s(3),L(" ",f(4,3,n.consumable().buff),", Level ",n.consumable().level," for ",n.consumable().duration," seconds ")}}var ee=(()=>{let i=class i{constructor(){this.consumable=A.required()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-consumable"]],inputs:{consumable:[1,"consumable"]},decls:9,vars:5,consts:[[1,"text-black"],[1,"mb-3"]],template:function(t,a){t&1&&(_(0,"div"),u(1,"Health: "),_(2,"span",0),u(3),x()(),_(4,"div"),u(5,"Energy: "),_(6,"span",0),u(7),x()(),p(8,ne,5,5,"div",1)),t&2&&(s(3),I(a.consumable().healthDelta),s(),T("mb-3",a.consumable().buff==="None"),s(3),I(a.consumable().staminaDelta),s(),m(a.consumable().buff!=="None"?8:-1))},dependencies:[y],encapsulation:2});let e=i;return e})();var oe=(e,i)=>i.key;function ae(e,i){e&1&&k(0,"app-consumable",4),e&2&&r("consumable",i)}function se(e,i){if(e&1&&k(0,"app-cooking-recipe",5),e&2){let n=i.$implicit;r("cookingRecipe",n)}}function le(e,i){if(e&1&&(p(0,ae,1,1,"app-consumable",4),g(1,se,1,1,"app-cooking-recipe",5,oe)),e&2){let n,o=i.$implicit;m((n=o.consumables==null?null:o.consumables.base)?0:-1,n),s(),h(o.cookedFrom)}}function pe(e,i){if(e&1&&(c(0,"app-database-item-details",0),$(1,le,3,1,"ng-template",3),d()),e&2){let n=l();r("itemId",n.selectedEntity.item.id)}}function me(e,i){if(e&1){let n=D();c(0,"app-item-icon",10),S("click",function(){let t=v(n).$implicit,a=l(4);return w(a.showDetails(t))}),d()}if(e&2){let n=i.$implicit,o=l(4);T("selected-icon",(o.selectedEntity==null||o.selectedEntity.item==null?null:o.selectedEntity.item.id)===n.item.id),r("amount",n.amount)("itemName",n.item.iconName)}}function re(e,i){if(e&1&&(c(0,"div",7),g(1,me,1,4,"app-item-icon",9,E),d()),e&2){let n=l();s(),h(n)}}function ce(e,i){if(e&1&&k(0,"app-cooking-table",8),e&2){let n=l();r("dataSource",n)}}function de(e,i){if(e&1&&(p(0,re,3,0,"div",7),p(1,ce,1,1,"app-cooking-table",8)),e&2){let n=l(2);m(n.showTable?-1:0),s(),m(n.showTable?1:-1)}}function _e(e,i){if(e&1){let n=D();c(0,"mat-tab",2),C(1,"addSpacesToPascalCase"),C(2,"titlecase"),c(3,"app-data-filter",6),V("showTableChange",function(t){v(n);let a=l();return R(a.showTable,t)||(a.showTable=t),w(t)}),d(),p(4,de,2,2),C(5,"async"),d()}if(e&2){let n,o=i.$implicit,t=l();r("label",t.cookingUtensilMapping[o.toLowerCase()]?t.cookingUtensilMapping[o.toLowerCase()].displayName:f(2,5,f(1,3,o))),s(3),U("showTable",t.showTable),s(),m((n=f(5,7,t.filteredData$(o)))?4:-1,n)}}var Pe=(()=>{let i=class i extends K{constructor(){super(),this.utensilNames=[],this.quality=q,this.cookingUtensilMapping=this._database.getCookingUtensilMapping(),this._consumables=[],this.urlPathFromLabel=o=>{let t=Object.keys(this.cookingUtensilMapping).find(a=>this.cookingUtensilMapping[a].displayName===o);return t||o.toLowerCase().replaceAll(" ","")},N([this._database.fetchCookingRecipes$(),this._database.fetchConsumables$()]).pipe(M(1)).subscribe({next:([o,t])=>{this._consumables=t,this.utensilNames=Object.keys(o),this.activateTabFromRoute(this.utensilNames)}})}filteredData$(o){return this._database.fetchCookingRecipes$().pipe(F(t=>t[o]),P(t=>{this.reusedImages=this.getMultipleIconNames(t.map(a=>a.item?.iconName??""))}))}showDetails(o){super.showDetails(o),this.selectedEntityConsumable=this._consumables.find(t=>t.key===o?.item?.id)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-cooking"]],features:[B],decls:5,vars:2,consts:[["context","cooking_recipes","listDetail","",3,"itemId"],["mat-stretch-tabs","false",1,"w-full",3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],[3,"consumable"],[1,"mb-4",3,"cookingRecipe"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"amount","selected-icon","itemName"],[1,"icon-grid-item",3,"click","amount","itemName"]],template:function(t,a){t&1&&(c(0,"app-list-detail-container"),p(1,pe,2,1,"app-database-item-details",0),c(2,"mat-tab-group",1),S("selectedTabChange",function(te){return a.updateUrl(te)}),g(3,_e,6,9,"mat-tab",2,E),d()()),t&2&&(s(),m(a.selectedEntity?1:-1),s(),r("selectedIndex",a.selectedTabIndex()),s(),h(a.utensilNames))},dependencies:[Y,Q,X,O,G,ee,Z,z,J,H,y,j,W],encapsulation:2});let e=i;return e})();export{Pe as CookingComponent};
