import{a as z}from"./chunk-WSFDPXRH.js";import{a as P}from"./chunk-3E5SNKRJ.js";import{a as V}from"./chunk-QIBZIJAX.js";import{a as j}from"./chunk-EI45D5DW.js";import"./chunk-YWPVSJQY.js";import{a as $}from"./chunk-OKLTRTR4.js";import{a as q}from"./chunk-NTEY2CKU.js";import"./chunk-OYPR7CJS.js";import{a as U}from"./chunk-QYM5RSKG.js";import"./chunk-IBXLELUQ.js";import{c as W}from"./chunk-YOD5VGJA.js";import"./chunk-EJRI7FQQ.js";import"./chunk-XMGSTBON.js";import{e as H}from"./chunk-7VKCZCDP.js";import"./chunk-RIQ7EVWM.js";import{b as T,g as L,h as N,i as R,l as d,n as F,q as O,r as I,w as A}from"./chunk-U65D7S4X.js";import"./chunk-IJY46FI3.js";import"./chunk-D33HMA7I.js";import{a as G}from"./chunk-VRZECYYF.js";import"./chunk-HIFLNZD5.js";import{a as M}from"./chunk-ZALICU3N.js";import{a as y,d as B,e as D}from"./chunk-SAY5CNC2.js";import{b as w}from"./chunk-G2FIETR4.js";import"./chunk-7DQT77OQ.js";import"./chunk-OHR5KDYC.js";import{Hb as g,Jb as u,Lb as k,Mb as S,Nb as x,Ob as h,Pb as e,Qb as t,Rb as s,Za as o,ac as E,ca as m,cc as v,kb as C,oc as _,rc as i,tc as f}from"./chunk-FPTGDBQG.js";import{a as b}from"./chunk-2QKSPLSF.js";function J(a,l){if(a&1&&(e(0,"mat-option",10),i(1),t()),a&2){let p=l.$implicit,n=v();h("value",p),o(),f("",n.availableLanguageDisplayName[p]," ")}}function K(a,l){if(a&1&&(e(0,"p",18),s(1,"app-ui-icon",12),i(2," Currently there's no beta. "),t()),a&2){let p=v();o(),h("uiIcon",p.uiIcon.WARNING)}}function Q(a,l){a&1&&(e(0,"p",31),i(1,"Changes that require a reload were made. Saving will reload automatically."),t())}var ue=(()=>{let l=class l{constructor(){this.reloadRequired=!1,this.uiIcon=y,this.availableLanguages=B,this.availableLanguageDisplayName=D,this.BETA_CODE=m($,{optional:!0}),this._settingsService=m(w),this._toDo=m(q),this._checklistOfferings=m(P),this._checklistCooking=m(z),this._checklistMuseum=m(V),this._checklistHeartEvents=m(j),this.settingsForm=new R({useBeta:new d(!1,{nonNullable:!0}),resetLiveToDo:new d(!1,{nonNullable:!0}),resetBetaToDo:new d(!1,{nonNullable:!0}),resetLiveChecklists:new d(!1,{nonNullable:!0}),resetBetaChecklists:new d(!1,{nonNullable:!0}),language:new d("en",{nonNullable:!0}),disableChangelogs:new d(!1,{nonNullable:!0})}),this.BETA_CODE||this.settingsForm.get("useBeta")?.disable();let n=this._settingsService.getSettings();this.settingsForm.patchValue(n),this.settingsForm.valueChanges.subscribe({next:c=>{this.reloadRequired=n.useBeta!==c.useBeta||n.language!==c.language}})}saveSettings(){let n=b({},this.settingsForm.value);n.resetLiveChecklists&&(this._checklistMuseum.resetLiveChecklist(),this._checklistOfferings.resetLiveChecklist(),this._checklistCooking.resetLiveChecklist(),this._checklistHeartEvents.resetLiveChecklist()),n.resetBetaChecklists&&(this._checklistMuseum.resetBetaChecklist(),this._checklistOfferings.resetBetaChecklist(),this._checklistCooking.resetBetaChecklist(),this._checklistHeartEvents.resetBetaChecklist()),n.resetLiveToDo&&this._toDo.resetLiveToDo(),n.resetBetaToDo&&this._toDo.resetBetaToDo(),delete n.resetBetaToDo,delete n.resetLiveToDo,delete n.resetBetaChecklists,delete n.resetLiveChecklists,this._settingsService.saveSettings(n),this.reloadRequired&&location.reload()}};l.\u0275fac=function(c){return new(c||l)},l.\u0275cmp=C({type:l,selectors:[["app-settings"]],decls:101,vars:7,consts:[[1,"px-main-hz","py-main-vt"],[1,"text-black","container"],[3,"submit","formGroup"],[1,"grid","md:grid-cols-3","pb-12","gap-y-10","gap-x-8","border-b","border-accent/50","mb-8"],[1,"leading-7","font-bold","text-lg"],[1,"bg-amber-50/70","md:col-span-2","px-4","py-6","sm:p-8","sm:rounded-lg"],[1,"flex","flex-col","gap-1","items-start"],["for","language",1,"font-bold","leading-6"],[1,"btn","btn-secondary"],["formControlName","language","id","language"],[3,"value"],[1,"flex","gap-2","text-black","font-bold","leading-6","items-center","mt-2"],[1,"!w-6","shrink-0",3,"uiIcon"],[1,"flex","gap-x-3"],[1,"flex","h-6","items-center"],["formControlName","useBeta","id","useBeta","name","useBeta","type","checkbox"],["for","useBeta",1,"font-bold","leading-6"],[1,"leading-6"],[1,"flex","gap-2","text-black","font-bold","leading-6","items-center"],[1,"bg-amber-50/70","md:col-span-2","px-4","py-6","sm:p-8","sm:rounded-lg","flex","flex-col","gap-6"],["formControlName","resetLiveToDo","id","resetLiveToDo","name","resetLiveToDo","type","checkbox"],["for","resetLiveToDo",1,"font-bold","leading-6"],["formControlName","resetBetaToDo","id","resetBetaToDo","name","resetBetaToDo","type","checkbox"],["for","resetBetaToDo",1,"font-bold","leading-6"],["formControlName","disableChangelogs","id","disableChangelogs","name","disableChangelogs","type","checkbox"],["for","disableChangelogs",1,"font-bold","leading-6"],["formControlName","resetLiveChecklists","id","resetLiveChecklists","name","resetLiveChecklists","type","checkbox"],["for","resetLiveChecklists",1,"font-bold","leading-6"],["formControlName","resetBetaChecklists","id","resetBetaChecklists","name","resetBetaChecklists","type","checkbox"],["for","resetBetaChecklists",1,"font-bold","leading-6"],[1,"mt-6","sm:mt-8","flex","justify-between","items-center"],[1,"font-bold"],["type","submit",1,"btn-amber","ml-auto"]],template:function(c,r){c&1&&(e(0,"div",0)(1,"app-card",1)(2,"form",2),E("submit",function(){return r.saveSettings()}),e(3,"div",3)(4,"div")(5,"h3",4),i(6,"Language"),t(),e(7,"p"),i(8,"Change the language of Coral Guide"),t()(),e(9,"div",5)(10,"div",6)(11,"label",7),i(12,"Language"),t(),e(13,"mat-form-field",8)(14,"mat-select",9),S(15,J,2,2,"mat-option",10,k),t()()(),e(17,"p",11),s(18,"app-ui-icon",12),i(19," Work in progress: Currently only in-game data has translations, the app itself will stay in english. Translations are pulled from game files and will be shown as is. "),t()()(),e(20,"div",3)(21,"div")(22,"h3",4),i(23,"Beta data"),t(),e(24,"p"),i(25),t()(),e(26,"div",5)(27,"div",13)(28,"div",14),s(29,"input",15),t(),e(30,"div")(31,"label",16),i(32,"Use beta data"),t(),e(33,"p",17),i(34,"Switches app data to beta data. Change requires reload."),t()()(),g(35,K,3,1,"p",18),t()(),e(36,"div",3)(37,"div")(38,"h3",4),i(39,"To-Dos"),t(),e(40,"p"),i(41,"Options for to-dos. Reset your to-dos data if they behave in unwanted behavior and set defaults for viewing. "),t()(),e(42,"div",19)(43,"div",13)(44,"div",14),s(45,"input",20),t(),e(46,"div")(47,"label",21),i(48,"Reset live to-dos"),t(),e(49,"p",17),i(50,"Reset all to-dos which were created while using live data."),t()()(),e(51,"div",13)(52,"div",14),s(53,"input",22),t(),e(54,"div")(55,"label",23),i(56,"Reset beta to-dos"),t(),e(57,"p",17),i(58,"Reset all to-dos which were created while using beta data."),t()()()()(),e(59,"div",3)(60,"div")(61,"h3",4),i(62,"Changelogs"),t(),e(63,"p"),i(64,"Options for latest changelogs. If you disabled them you can reactivate them here. "),t()(),e(65,"div",19)(66,"div",13)(67,"div",14),s(68,"input",24),t(),e(69,"div")(70,"label",25),i(71,"Disable latest changelogs"),t(),e(72,"p",17),i(73,"When disabled, latest changes will not be displayed once per update."),t()()()()(),e(74,"div",3)(75,"div")(76,"h3",4),i(77,"Checklists"),t(),e(78,"p"),i(79,"Options for checklists. Reset your checklists data. "),t()(),e(80,"div",19)(81,"div",13)(82,"div",14),s(83,"input",26),t(),e(84,"div")(85,"label",27),i(86,"Reset live checklists"),t(),e(87,"p",17),i(88,"Reset all checklists which were created while using live data."),t()()(),e(89,"div",13)(90,"div",14),s(91,"input",28),t(),e(92,"div")(93,"label",29),i(94,"Reset beta checklists"),t(),e(95,"p",17),i(96,"Reset all checklists which were created while using beta data."),t()()()()(),e(97,"div",30),g(98,Q,2,0,"p",31),e(99,"button",32),i(100,"Save"),t()()()()()),c&2&&(o(2),h("formGroup",r.settingsForm),o(13),x(r.availableLanguages),o(3),h("uiIcon",r.uiIcon.WARNING),o(7),f("Options for latest beta build. Current beta code: ",r.BETA_CODE??"no ongoing beta"," "),o(5),_("opacity-50",!r.BETA_CODE),o(5),u(r.BETA_CODE?-1:35),o(63),u(r.reloadRequired?98:-1))},dependencies:[G,A,F,T,L,N,O,I,H,U,M,W],encapsulation:2});let a=l;return a})();export{ue as SettingsComponent};
