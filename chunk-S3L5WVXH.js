import{a as W}from"./chunk-VYGI53R3.js";import{a as K}from"./chunk-65I62FE7.js";import{a as $}from"./chunk-VECDWYVT.js";import{b as M}from"./chunk-OU4TLBIG.js";import{b as R}from"./chunk-G2FIETR4.js";import{t as P}from"./chunk-OHR5KDYC.js";import{Dc as G,Hb as p,Jb as f,Jc as B,Lb as _,Lc as y,Mb as C,Mc as b,Nb as x,Ob as s,Pb as a,Qb as l,Rb as O,Yb as h,Yc as V,Za as r,Zc as N,ac as v,ca as k,cc as m,ia as g,ja as u,kb as A,oc as w,rc as d,sa as q,sc as E,tc as S,wc as I,xc as D,yc as F}from"./chunk-FPTGDBQG.js";var j=t=>[t];function z(t,n){if(t&1&&(a(0,"div",1),d(1),l()),t&2){let e=m();r(),S(" Reward: ",e.offeringAltar().offeringGroupRewardText," ")}}function L(t,n){if(t&1){let e=h();a(0,"div",5),v("click",function(){let c=g(e).$implicit,o=m(2);return u(o.activeOffering=c)}),O(1,"img",6),a(2,"div",7),d(3),l()()}if(t&2){let e=n.$implicit,i=m(2);w("bg-merino-300",(i.activeOffering==null?null:i.activeOffering.title)===e.title),r(),s("alt",G("",e.title," offering icon"))("ngSrc",G("",i.bundleAssetPath()+e.imageName,".webp")),r(2),E(e.title)}}function H(t,n){if(t&1&&(a(0,"div",2),C(1,L,4,7,"div",4,_),l()),t&2){let e=m();r(),x(e.offeringAltar().offerings)}}function J(t,n){if(t&1&&O(0,"app-offerings-table",3),t&2){let e=m();s("dataSource",B(1,j,e.offeringAltar()))}}function Q(t,n){if(t&1){let e=h();a(0,"app-item-icon",12),y(1,"entityKey"),v("click",function(){let c=g(e).$implicit,o=m(2);return u(o.showDetails(c.item))}),l()}if(t&2){let e=n.$implicit,i=m(2);w("selected-icon",i.selectedEntity()&&b(1,4,i.selectedEntity())===e.item.id),s("amount",e.amount)("itemName",e.item.iconName)}}function U(t,n){if(t&1){let e=h();a(0,"app-item-icon",13),y(1,"entityKey"),y(2,"entityKey"),v("click",function(){let c=g(e).$implicit,o=m(2);return u(o.showDetails(c))}),l()}if(t&2){let e=n.$implicit,i=m(2);w("selected-icon",i.selectedEntity()&&b(1,5,i.selectedEntity())===b(2,7,e.item)),s("amount",e.amount)("itemName",e.item.iconName)("quality",e.quality)}}function X(t,n){if(t&1&&(a(0,"div",8),d(1," Rewards: "),l(),a(2,"div",9),C(3,Q,2,6,"app-item-icon",10,_),l(),a(5,"div",8),d(6),l(),a(7,"div",9),C(8,U,3,9,"app-item-icon",11,_),l()),t&2){let e=m();r(3),x(e.activeOffering.rewards.items),r(3),S(" ",e.activeOffering.numOfItemRequired===-1?"All":e.activeOffering.numOfItemRequired," of the following items are required: "),r(2),x(e.activeOffering.requiredItems)}}var me=(()=>{let n=class n{constructor(){this.offeringAltar=N.required(),this.selectedEntity=N.required(),this.selected=V(),this.showTable=!1,this.useBeta=k(R).getSettings().useBeta,this.bundleAssetPath=q(`assets/${this.useBeta?"beta":"live"}/items/icons/`)}showDetails(i){i?this.entryForToDo="item"in i?{itemEntry:i.item,amount:i.amount,quality:i.quality}:{itemEntry:i}:this.entryForToDo=void 0,i&&"amount"in i?this.selected.emit(i.item):this.selected.emit(i)}};n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=A({type:n,selectors:[["app-offering-group"]],inputs:{offeringAltar:[1,"offeringAltar"],selectedEntity:[1,"selectedEntity"]},outputs:{selected:"selected"},decls:5,vars:5,consts:[[3,"showTableChange","showTable"],[1,"bg-merino","rounded-lg","mb-4","text-lg","font-semibold","p-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[3,"dataSource"],[1,"rounded-lg","bg-merino","flex","flex-col","items-center","gap-4","px-4","py-8","hover:bg-merino-200",3,"bg-merino-300"],[1,"rounded-lg","bg-merino","flex","flex-col","items-center","gap-4","px-4","py-8","hover:bg-merino-200",3,"click"],["height","128","width","128",3,"alt","ngSrc"],[1,"text-lg","font-semibold"],[1,"bg-merino","rounded-lg","mb-4","text-lg","font-semibold","p-4","my-8"],[1,"icon-grid","mt-8"],[1,"icon-grid-item",3,"amount","selected-icon","itemName"],[1,"icon-grid-item",3,"amount","selected-icon","itemName","quality"],[1,"icon-grid-item",3,"click","amount","itemName"],[1,"icon-grid-item",3,"click","amount","itemName","quality"]],template:function(c,o){c&1&&(a(0,"app-data-filter",0),F("showTableChange",function(T){return D(o.showTable,T)||(o.showTable=T),T}),l(),p(1,z,2,1,"div",1),p(2,H,3,0,"div",2),p(3,J,1,3,"app-offerings-table",3),p(4,X,10,1)),c&2&&(I("showTable",o.showTable),r(),f(o.offeringAltar().offeringGroupRewardText?1:-1),r(),f(o.showTable?-1:2),r(),f(o.showTable?3:-1),r(),f(o.activeOffering&&!o.showTable?4:-1))},dependencies:[P,$,K,M,W],encapsulation:2});let t=n;return t})();export{me as a};
