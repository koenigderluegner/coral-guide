import{a as N}from"./chunk-3H2ZASFZ.js";import{a as V,b as L,c as W,d as U,e as j,f as O,g as Y,h as q,i as G,j as J,k as K,l as Q,m as X,n as Z,o as tt}from"./chunk-XWGFS45Y.js";import{b as k}from"./chunk-SNYRKERH.js";import{c as y,d as z,i as P,j as A}from"./chunk-D33HMA7I.js";import{Fb as M,Hb as S,Jb as x,Lb as I,Lc as C,Mb as R,Mc as u,Nb as H,Ob as h,Pb as a,Qb as o,Rb as g,Vb as d,Wb as c,Za as r,cc as _,kb as v,nb as F,ob as $,qb as p,rc as s,sc as f,tc as T,uc as B,xa as E}from"./chunk-FPTGDBQG.js";import{a as D,b}from"./chunk-2QKSPLSF.js";var et=(()=>{let e=class e{transform(n){return"fishName"in n}};e.\u0275fac=function(l){return new(l||e)},e.\u0275pipe=F({name:"isFish",type:e,pure:!0});let t=e;return t})();function nt(t,e){if(t&1&&(a(0,"td",17),g(1,"app-item-icon",18),o()),t&2){let i=e.$implicit;r(),h("itemName",i.item.iconName)}}function at(t,e){t&1&&(a(0,"th",19),s(1," Name"),o()),t&2&&M("colspan",2)}function ot(t,e){if(t&1&&(a(0,"td",20),s(1),o()),t&2){let i=e.$implicit;r(),f(i.item.displayName)}}function lt(t,e){t&1&&(a(0,"th",19),s(1," Rarity"),o())}function mt(t,e){if(t&1&&(a(0,"td",20),s(1),o()),t&2){let i=e.$implicit,n=_(2);r(),f(n.addSpacesToPascalCase(i.rarity))}}function st(t,e){t&1&&(a(0,"th",21),s(1," Location"),o())}function rt(t,e){if(t&1&&(a(0,"td",20),s(1),C(2,"isFish"),o()),t&2){let i=e.$implicit;r(),T("",(u(2,1,i)?i.spawnSettings[0]:i).spawnLocation.join(", ")," ")}}function pt(t,e){t&1&&(a(0,"th",19),s(1," Weather"),o())}function dt(t,e){if(t&1&&(a(0,"td",20),s(1),C(2,"isFish"),o()),t&2){let i=e.$implicit,n=_(2);r(),T("",n.getTruthyValues((u(2,1,i)?i.spawnSettings[0]:i).spawnWeather)," ")}}function ct(t,e){t&1&&(a(0,"th",21),s(1," Season"),o())}function _t(t,e){if(t&1&&(s(0),C(1,"isFish")),t&2){let i=_().$implicit,n=_(2);T(" ",n.getTruthyValues((u(1,1,i)?i.spawnSettings[0]:i).spawnSeason)," ")}}function Ct(t,e){if(t&1&&(a(0,"div",22),s(1),o()),t&2){let i=e.$implicit,n=e.$index,l=e.$count;r(),B("",i,"",n!==l-1?", ":""," ")}}function ut(t,e){if(t&1&&(R(0,Ct,2,2,"div",22,I),C(2,"isFish")),t&2){let i=_().$implicit,n=_(2);H(n.dateRangesToString((u(2,0,i)?i.spawnSettings[0]:i).dateRangeList))}}function ft(t,e){if(t&1&&(a(0,"td",20),S(1,_t,2,3),C(2,"isFish"),S(3,ut,3,2),C(4,"isFish"),o()),t&2){let i=e.$implicit;r(),x((u(2,2,i)?i.spawnSettings[0]:i).isUsingSpecificDate?-1:1),r(2),x((u(4,4,i)?i.spawnSettings[0]:i).isUsingSpecificDate?3:-1)}}function ht(t,e){t&1&&(a(0,"th",19),s(1," Time"),o())}function Tt(t,e){if(t&1&&(a(0,"td",20),s(1),C(2,"isFish"),o()),t&2){let i=e.$implicit,n=_(2);r(),T("",n.getTruthyValues((u(2,1,i)?i.spawnSettings[0]:i).spawnTime)," ")}}function St(t,e){t&1&&(a(0,"th",19),s(1," Size"),o())}function xt(t,e){if(t&1&&(a(0,"td",20),s(1),o()),t&2){let i=e.$implicit;r(),f(i.fishSize)}}function gt(t,e){t&1&&(a(0,"th",19),s(1," Pattern"),o())}function yt(t,e){if(t&1&&(a(0,"td",20),s(1),o()),t&2){let i=e.$implicit;r(),f(i.pattern)}}function wt(t,e){t&1&&(a(0,"th",19),s(1," Difficulty"),o())}function Dt(t,e){if(t&1&&(a(0,"td",20),s(1),C(2,"addSpacesToPascalCase"),o()),t&2){let i=e.$implicit;r(),f(u(2,1,i.difficulty))}}function bt(t,e){t&1&&g(0,"tr",23)}function Et(t,e){t&1&&g(0,"tr",24)}function vt(t,e){if(t&1&&(a(0,"table",0),d(1,1),p(2,nt,2,1,"td",2),c(),d(3,3),p(4,at,2,1,"th",4)(5,ot,2,1,"td",5),c(),d(6,6),p(7,lt,2,0,"th",4)(8,mt,2,1,"td",5),c(),d(9,7),p(10,st,2,0,"th",8)(11,rt,3,3,"td",5),c(),d(12,9),p(13,pt,2,0,"th",4)(14,dt,3,3,"td",5),c(),d(15,10),p(16,ct,2,0,"th",8)(17,ft,5,6,"td",5),c(),d(18,11),p(19,ht,2,0,"th",4)(20,Tt,3,3,"td",5),c(),d(21,12),p(22,St,2,0,"th",4)(23,xt,2,1,"td",5),c(),d(24,13),p(25,gt,2,0,"th",4)(26,yt,2,1,"td",5),c(),d(27,14),p(28,wt,2,0,"th",4)(29,Dt,3,3,"td",5),c(),p(30,bt,1,0,"tr",15)(31,Et,1,0,"tr",16),o()),t&2){let i=_();h("dataSource",i.matDataSource),r(30),h("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),r(),h("matRowDefColumns",i.displayedColumns)}}var Nt=(()=>{let e=class e extends Z{constructor(){super(...arguments),this.getTruthyValues=y,this.addSpacesToPascalCase=z,this.BASE_DISPLAY_COLUMNS=["icon","key","rarity","weather","season","time","location"],this.sortingDataAccessor=(n,l)=>{switch(l){case"rarity":return P.get(n[l])??0;case"key":return n[l];case"time":{let m=this._isFish(n)?n.spawnSettings[0].spawnTime:n.spawnTime;return y(m)==="Any"?1:m.morning?10:m.afternoon?20:m.evening?30:m.night?40:0}case"weather":{let m=this._isFish(n)?n.spawnSettings[0].spawnWeather:n.spawnWeather;return y(m)==="Any"?1:m.sunny?10:m.rain?20:m.snow?30:m.blizzard?40:m.windy?50:m.storm?60:0}}if(this._isFish(n))switch(l){case"fishSize":return A.get(n.fishSize)??0;case"pattern":case"difficulty":return n[l]}return 0}}static _isFishArray(n){return!!n?.[0]&&"fishName"in n[0]}dateRangesToString(n){return n.map(l=>`From ${l.startsFrom.season} ${l.startsFrom.day} to ${l.lastsTill.season} ${l.lastsTill.day}`)}setupDataSource(n){let l=n;e._isFishArray(n)&&(l=n.map(m=>m.spawnSettings.map(w=>b(D({},m),{spawnSettings:[w]}))).flat()),super.setupDataSource(l),e._isFishArray(this._dataSource())&&(this.displayedColumns.splice(3,0,"fishSize"),this.displayHeaderColumns.splice(2,0,"fishSize"),this.displayedColumns.splice(4,0,"pattern"),this.displayHeaderColumns.splice(3,0,"pattern"),this.displayedColumns.splice(5,0,"difficulty"),this.displayHeaderColumns.splice(4,0,"difficulty"))}_isFish(n){return!!n&&"fishName"in n}};e.\u0275fac=(()=>{let n;return function(m){return(n||(n=E(e)))(m||e)}})(),e.\u0275cmp=v({type:e,selectors:[["app-caught-table"]],features:[$],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["mat-cell","","class","!px-2 ",4,"matCellDef"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rarity"],["matColumnDef","location"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","weather"],["matColumnDef","season"],["matColumnDef","time"],["matColumnDef","fishSize"],["matColumnDef","pattern"],["matColumnDef","difficulty"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!px-2"],[1,"mx-2",3,"itemName"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"whitespace-nowrap"],["mat-header-row",""],["mat-row",""]],template:function(l,m){l&1&&(a(0,"app-responsive-table"),S(1,vt,32,4,"table",0),o()),l&2&&(r(),x(m.matDataSource?1:-1))},dependencies:[tt,Q,k,X,K,V,W,Y,U,L,q,j,O,G,J,et,N],encapsulation:2});let t=e;return t})();export{Nt as a};
