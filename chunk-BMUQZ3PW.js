import{a as ct}from"./chunk-QIBZIJAX.js";import"./chunk-BYXBJQAS.js";import"./chunk-YWPVSJQY.js";import{a as lt,b as mt}from"./chunk-5SUIQM33.js";import"./chunk-VIHDBGTU.js";import{b as ee}from"./chunk-OKR7QHIK.js";import"./chunk-WP2B2A6N.js";import"./chunk-L5G7Q7YK.js";import{a as ue,b as fe,c as qe,d as K,e as Y,f as J,g as Q}from"./chunk-WVAF3DK7.js";import{a as _e}from"./chunk-ZB23GXIF.js";import"./chunk-OCVYEX7D.js";import"./chunk-KYJPB6XG.js";import"./chunk-HWSOVV66.js";import"./chunk-H5W4AT7W.js";import"./chunk-CS6UDEWJ.js";import"./chunk-R5W7LKTI.js";import"./chunk-YRO3XTLN.js";import"./chunk-O2IAJ5L5.js";import"./chunk-EGGJNKID.js";import"./chunk-5EZIUWJI.js";import"./chunk-IYMAANR5.js";import"./chunk-DUMUFVPR.js";import{a as st}from"./chunk-GZYBMURB.js";import{a as ye}from"./chunk-OYPR7CJS.js";import{a as xe}from"./chunk-QYM5RSKG.js";import{b as at,c as rt}from"./chunk-QLTEDVDB.js";import"./chunk-ZNXHGMTD.js";import"./chunk-IBXLELUQ.js";import{b as Ce}from"./chunk-OU4TLBIG.js";import{c as ge}from"./chunk-YOD5VGJA.js";import"./chunk-EJRI7FQQ.js";import"./chunk-XMGSTBON.js";import{a as G,e as L}from"./chunk-7VKCZCDP.js";import"./chunk-RIQ7EVWM.js";import{c as X,g as U,h as Ke,i as Ye,l as T,m as Je,o as Qe,p as he,q as Xe,r as Ze,s as et,t as tt,u as it,v as B,w as Z}from"./chunk-U65D7S4X.js";import"./chunk-IJY46FI3.js";import{a as We,b as He}from"./chunk-3AJAQBMU.js";import{a as pe,b as je}from"./chunk-7C5Y62SY.js";import{a as ot}from"./chunk-VRZECYYF.js";import{b as ze}from"./chunk-IIDJZWRT.js";import"./chunk-7MFI6IJ7.js";import"./chunk-HIFLNZD5.js";import{a as M}from"./chunk-ZALICU3N.js";import{h as nt}from"./chunk-47OJ7DES.js";import{a as k,h as Pe,k as Oe}from"./chunk-UUI6UFCU.js";import"./chunk-BFCDBX46.js";import"./chunk-G2FIETR4.js";import"./chunk-7DQT77OQ.js";import{i as Le}from"./chunk-OHR5KDYC.js";import{Cb as Ne,Db as Ae,Dc as E,Hb as q,Ib as Ve,Jb as z,Jc as be,Lb as $,Lc as se,Mb as b,Mc as le,Nb as v,Ob as m,P as ne,Pb as a,Qb as o,Rb as f,Rc as me,Sc as R,Tc as ce,Uc as Be,V,Yb as O,Yc as Ge,Z as we,Za as s,Zc as de,ac as _,ca as C,cc as y,ia as S,ja as I,k as ie,kb as g,ob as Ee,oc as re,p as Ie,qb as Te,rb as Me,rc as c,sa as P,sc as oe,tc as ae,v as ke,wc as $e,xa as Fe,xc as Re,yc as Ue}from"./chunk-FPTGDBQG.js";import{d as p,e as F,f as te}from"./chunk-2QKSPLSF.js";var dt=(()=>{var e,i,d,r;let n=class n extends We{constructor(){super(...arguments);F(this,e,P([]));F(this,i,P([]));F(this,d,P([]));F(this,r,P([]))}getFish$(){return p(this,e).call(this).length?ie(p(this,e).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-fish.json`).pipe(V(h=>p(this,e).set(h)),ne(1))}getInsects$(){return p(this,i).call(this).length?ie(p(this,i).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-insects.json`).pipe(V(h=>p(this,i).set(h)),ne(1))}getOceanCritters$(){return p(this,d).call(this).length?ie(p(this,d).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-ocean-critters.json`).pipe(V(h=>p(this,d).set(h)),ne(1))}getFish(){return p(this,e).asReadonly()}getInsects(){return p(this,i).asReadonly()}getOceanCritter(){return p(this,d).asReadonly()}getBirthdays$(){return p(this,r).call(this).length?ie(p(this,r).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/birthdays.json`).pipe(V(h=>p(this,r).set(h)),ne(1))}getBirthdays(){return p(this,r).asReadonly()}};e=new WeakMap,i=new WeakMap,d=new WeakMap,r=new WeakMap,n.\u0275fac=(()=>{let h;return function(A){return(h||(h=Fe(n)))(A||n)}})(),n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var pt=t=>["/npcs",t];function gt(t,e){if(t&1){let i=O();a(0,"app-item-icon",11),_("click",function(){S(i);let r=y().$implicit,n=y(2);return I(n.itemClicked.emit(r.item))}),o()}if(t&2){let i=y().$implicit;m("itemName",i.item.iconName)}}function xt(t,e){if(t&1&&(a(0,"span"),c(1),se(2,"addSpacesToPascalCase"),o()),t&2){let i=y().$implicit;s(),ae("All ",le(2,1,i.categoryName))}}function bt(t,e){if(t&1&&(q(0,gt,1,1,"app-item-icon",10),q(1,xt,3,3,"span")),t&2){let i=e.$implicit;z(i.type==="item"?0:-1),s(),z(i.type==="category"?1:-1)}}function vt(t,e){t&1&&c(0," No individual loved gifts. ")}function Dt(t,e){if(t&1&&(a(0,"div",0)(1,"div",1)(2,"a",2),f(3,"app-item-icon",3),o(),a(4,"div",4)(5,"a",5),c(6),o()()(),a(7,"div",6)(8,"div",7),f(9,"app-ui-icon",8),c(10," Loved "),o(),a(11,"div",9),b(12,bt,2,2,null,null,$,!1,vt,1,0),o()()()),t&2){let i=e.$implicit,d=y();s(2),m("routerLink",be(6,pt,i.npcKey)),s(),m("itemName",i.iconName),s(2),m("routerLink",be(8,pt,i.npcKey)),s(),ae(" ",i.characterName," "),s(3),m("uiIcon",d.UiIcon.LOVE),s(3),v(i.lovedGifts)}}function St(t,e){t&1&&(a(0,"p"),c(1,"No birthdays."),o())}var ut=(()=>{let e=class e{constructor(){this.birthdays=de.required(),this.itemClicked=Ge(),this.UiIcon=k,this.uiIcon=k}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-birthday-dashboard"]],hostAttrs:[1,"flex","flex-col","gap-3"],inputs:{birthdays:[1,"birthdays"]},outputs:{itemClicked:"itemClicked"},decls:3,vars:1,consts:[[1,"flex","gap-1","flex-col"],[1,"text-2xl","text-black","font-semibold","flex","gap-2","items-center","gifting-portrait"],[3,"routerLink"],[1,"h-12","birthday-npc-image",3,"itemName"],[1,"flex","flex-col"],[1,"flex","gap-2","items-center",3,"routerLink"],[1,"flex","gap-2"],[1,"font-semibold","flex","items-center","flex-col","shrink-0","basis-12","text-black"],[1,"!text-gifting","!h-6","!w-6",3,"uiIcon"],[1,"flex","items-center","gap-2.5","flex-wrap"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"itemName"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"click","itemName"]],template:function(r,n){r&1&&b(0,Dt,15,10,"div",0,$,!1,St,2,0,"p"),r&2&&v(n.birthdays())},dependencies:[M,nt,Ce,st],styles:[`.birthday-npc-image.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center bottom}.birthday-gift-icon.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center}
`],encapsulation:2});let t=e;return t})();function It(t,e){if(t&1&&(a(0,"mat-option",6),c(1),o()),t&2){let i=e.$implicit;m("value",i),s(),oe(i)}}function kt(t,e){if(t&1&&(a(0,"mat-option",6),c(1),o()),t&2){let i=e.$implicit;m("value",i),s(),oe(i)}}var ft=(()=>{let e=class e{constructor(){this.parentFormGroup=de.required(),this.Weathers=Oe,this.Seasons=Pe}increaseDay(d){this.parentFormGroup().patchValue(pe(this.parentFormGroup().getRawValue(),d))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-dashboard-filter"]],inputs:{parentFormGroup:[1,"parentFormGroup"]},decls:25,vars:1,consts:[[1,"flex","flex-wrap","gap-x-3","gap-y-4",3,"formGroup"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","3rem"],["formControlName","day","inputmode","number","matInput","","max","28","min","1","pattern","[0-9]","type","number"],[1,"btn","-ml-2","touch-manipulation",3,"click"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","5rem"],["disableOptionCentering","","formControlName","season"],[3,"value"],["formControlName","year","inputmode","number","matInput","","min","1","pattern","[0-9]","type","number"],["disableOptionCentering","","formControlName","weather"],["formControlName","hideCompleted",1,"text-white","self-center"]],template:function(r,n){r&1&&(a(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),c(3,"Day"),o(),f(4,"input",2),o(),a(5,"button",3),_("click",function(){return n.increaseDay(1)}),c(6,"+"),o(),a(7,"mat-form-field",4)(8,"mat-label"),c(9,"Season"),o(),a(10,"mat-select",5),b(11,It,2,2,"mat-option",6,$),o()(),a(13,"mat-form-field",1)(14,"mat-label"),c(15,"Year"),o(),f(16,"input",7),o(),a(17,"mat-form-field",4)(18,"mat-label"),c(19,"Weather"),o(),a(20,"mat-select",8),b(21,kt,2,2,"mat-option",6,$),o()(),a(23,"mat-checkbox",9),c(24,"Hide completed"),o()()),r&2&&(m("formGroup",n.parentFormGroup()),s(11),v(n.Seasons),s(10),v(n.Weathers))},dependencies:[B,X,Qe,U,Ke,it,tt,et,L,G,ge,xe,Z,Xe,Ze,_e,ee],encapsulation:2});let t=e;return t})();var ht=(()=>{let e=class e{constructor(){this.dialogData=C(fe),this.dialogRef=C(ue),this.nameControl=new T(this.dialogData.userData.name,{nonNullable:!0}),this.UiIcon=k}save(){this.dialogRef.close(this.nameControl.value.trim())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-edit-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[1,"semi-transparent-form-field","semi-transparent-form-field-dark","my-3"],["matInput","",3,"formControl"],[1,"!justify-between"],["matDialogClose","",1,"btn-amber"],[1,"btn-success","space-x-2","items-center",3,"click","disabled"],[1,"!size-5",3,"uiIcon"]],template:function(r,n){r&1&&(a(0,"h1",0),c(1,"Edit save game data"),o(),a(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),c(6,"Name"),o(),f(7,"input",4),o()()(),a(8,"mat-dialog-actions",5)(9,"button",6),c(10,"Close"),o(),a(11,"button",7),_("click",function(){return n.save()}),f(12,"app-ui-icon",8),a(13,"span"),c(14,"Update"),o()()()),r&2&&(s(7),m("formControl",n.nameControl),s(4),m("disabled",n.nameControl.value.trim().length===0),s(),m("uiIcon",n.UiIcon.SETTINGS))},dependencies:[Q,K,J,Y,B,X,U,L,ee,G,M,Z,he],encapsulation:2});let t=e;return t})();var _t=(()=>{let e=class e{constructor(){this.dialogData=C(fe),this.UiIcon=k}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-delete-dialog"]],decls:12,vars:4,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[1,"!justify-between"],[1,"btn-amber",3,"matDialogClose"],[1,"btn-danger","space-x-2","items-center",3,"matDialogClose"],[1,"!size-5",3,"uiIcon"]],template:function(r,n){r&1&&(a(0,"h1",0),c(1,"Delete save game data"),o(),a(2,"mat-dialog-content",1)(3,"div",2),c(4),o()(),a(5,"mat-dialog-actions",3)(6,"button",4),c(7,"No, cancel"),o(),a(8,"button",5),f(9,"app-ui-icon",6),a(10,"span"),c(11,"Yes, delete"),o()()()),r&2&&(s(4),ae(' Are you sure you want to delete "',n.dialogData.userData.name,'"? This cannot be undone. '),s(2),m("matDialogClose",!1),s(2),m("matDialogClose",!0),s(),m("uiIcon",n.UiIcon.TRASH_CAN))},dependencies:[Q,K,J,Y,M],encapsulation:2});let t=e;return t})();var yt=(()=>{let e=class e{constructor(){this.dialogRef=C(ue),this.nameControl=new T("",{nonNullable:!0}),this.UiIcon=k}save(){this.dialogRef.close(this.nameControl.value.trim())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-add-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[1,"semi-transparent-form-field","semi-transparent-form-field-dark","my-3"],["matInput","",3,"formControl"],[1,"!justify-between"],["matDialogClose","",1,"btn-amber"],[1,"btn-success","space-x-2","items-center",3,"click","disabled"],[1,"!size-5",3,"uiIcon"]],template:function(r,n){r&1&&(a(0,"h1",0),c(1,"Add save game data"),o(),a(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),c(6,"Name"),o(),f(7,"input",4),o()()(),a(8,"mat-dialog-actions",5)(9,"button",6),c(10,"Close"),o(),a(11,"button",7),_("click",function(){return n.save()}),f(12,"app-ui-icon",8),a(13,"span"),c(14,"Create"),o()()()),r&2&&(s(7),m("formControl",n.nameControl),s(4),m("disabled",n.nameControl.value.trim().length===0),s(),m("uiIcon",n.UiIcon.PLUS))},dependencies:[Q,K,J,Y,B,X,U,L,ee,G,Z,he,M],encapsulation:2});let t=e;return t})();function wt(t,e){if(t&1&&(a(0,"mat-option",2),c(1),o()),t&2){let i=e.$implicit,d=e.$index;m("value",d),s(),oe(i.name)}}var Ct=(()=>{var e,i;let d=class d{constructor(){F(this,e);F(this,i);this.UiIcon=k,te(this,e,C(ye)),this.options=R(()=>p(this,e).userData().data),this.selectedIndex=Be(()=>p(this,e).userData().currentIndex),te(this,i,C(qe)),ce(()=>{let n=this.selectedIndex();p(this,e).currentIndex.set(n),me(()=>{p(this,e).save()})})}openAddDialog(){p(this,i).open(yt,{hasBackdrop:!0,width:"400px"}).afterClosed().subscribe({next:l=>{if(l){let u=p(this,e).createEmptyUserData(l);p(this,e).userData()?.data.push(u),p(this,e).save()}}})}openEditDialog(){p(this,i).open(ht,{data:{userData:p(this,e).currentData()},hasBackdrop:!0,width:"400px"}).afterClosed().subscribe({next:l=>{l&&(p(this,e).currentData().name=l,p(this,e).save())}})}openDeleteDialog(){p(this,i).open(_t,{data:{userData:p(this,e).currentData()},hasBackdrop:!0,width:"400px"}).afterClosed().subscribe({next:l=>{l&&(p(this,e).delete(),this.selectedIndex.set(p(this,e).currentIndex()))}})}};e=new WeakMap,i=new WeakMap,d.\u0275fac=function(l){return new(l||d)},d.\u0275cmp=g({type:d,selectors:[["app-user-data-actions"]],hostAttrs:[1,"inline-flex","gap-2","items-start","flex-wrap"],decls:12,vars:6,consts:[[1,"semi-transparent-form-field"],[3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"btn","touch-manipulation",3,"click"],[1,"!size-6",3,"uiIcon"],[1,"btn","touch-manipulation",3,"click","disabled"]],template:function(l,u){l&1&&(a(0,"mat-form-field",0)(1,"mat-label"),c(2,"Selected data"),o(),a(3,"mat-select",1),Ue("ngModelChange",function(x){return Re(u.selectedIndex,x)||(u.selectedIndex=x),x}),b(4,wt,2,2,"mat-option",2,$),o()(),a(6,"button",3),_("click",function(){return u.openEditDialog()}),f(7,"app-ui-icon",4),o(),a(8,"button",5),_("click",function(){return u.openDeleteDialog()}),f(9,"app-ui-icon",4),o(),a(10,"button",3),_("click",function(){return u.openAddDialog()}),f(11,"app-ui-icon",4),o()),l&2&&(s(3),$e("ngModel",u.selectedIndex),m("disabled",u.options().length<=1),s(),v(u.options()),s(3),m("uiIcon",u.UiIcon.SETTINGS),s(),m("disabled",u.options().length<=1),s(),m("uiIcon",u.UiIcon.TRASH_CAN),s(2),m("uiIcon",u.UiIcon.PLUS))},dependencies:[L,xe,ge,G,B,U,Je,M],encapsulation:2});let t=d;return t})();var Ft=()=>[import("./chunk-WCFDZ6NL.js").then(t=>t.MatProgressSpinner)],De=(t,e)=>e.entry.id+e.context;function Et(t,e){if(t&1&&f(0,"app-offering",6),t&2){let i=e.$implicit;m("details",i)}}function Tt(t,e){if(t&1&&(a(0,"app-item-card-switch",1),Te(1,Et,1,1,"ng-template",5),o()),t&2){let i=y();m("item",i.selectedEntity)}}function Mt(t,e){if(t&1){let i=O();a(0,"div",16)(1,"app-item-icon",17),_("click",function(){let r=S(i).$implicit,n=y(2);return I(n.showDetails({id:r.entry.id,displayName:"",iconName:r.entry.iconName}))}),o(),a(2,"label",18)(3,"mat-checkbox",19),_("change",function(r){let n=S(i).$implicit;return y(2).updateChecklist(r,n.entry.id,n.context),I(n.completed=!n.completed)}),o()()()}if(t&2){let i=e.$implicit;re("checklist-checked",i.completed),s(),m("itemName",i.entry.iconName),s(),m("for",E("entry-",i.entry.id,"-input")),s(),m("id",E("entry-",i.entry.id))("name",E("entry-",i.entry.id))("checked",i.completed)}}function Nt(t,e){t&1&&(a(0,"p",15),c(1,"No more fish to catch :)"),o())}function At(t,e){if(t&1){let i=O();a(0,"div",16)(1,"app-item-icon",17),_("click",function(){let r=S(i).$implicit,n=y(2);return I(n.showDetails({id:r.entry.id,displayName:"",iconName:r.entry.iconName}))}),o(),a(2,"label",18)(3,"mat-checkbox",19),_("change",function(r){let n=S(i).$implicit;return y(2).updateChecklist(r,n.entry.id,n.context),I(n.completed=!n.completed)}),o()()()}if(t&2){let i=e.$implicit;re("checklist-checked",i.completed),s(),m("itemName",i.entry.iconName),s(),m("for",E("entry-",i.entry.id,"-input")),s(),m("id",E("entry-",i.entry.id))("name",E("entry-",i.entry.id))("checked",i.completed)}}function Vt(t,e){t&1&&(a(0,"p",15),c(1,"No more bugs to catch :)"),o())}function $t(t,e){if(t&1){let i=O();a(0,"div",16)(1,"app-item-icon",17),_("click",function(){let r=S(i).$implicit,n=y(2);return I(n.showDetails({id:r.entry.id,displayName:"",iconName:r.entry.iconName}))}),o(),a(2,"label",18)(3,"mat-checkbox",19),_("change",function(r){let n=S(i).$implicit;return y(2).updateChecklist(r,n.entry.id,n.context),I(n.completed=!n.completed)}),o()()()}if(t&2){let i=e.$implicit;re("checklist-checked",i.completed),s(),m("itemName",i.entry.iconName),s(),m("for",E("entry-",i.entry.id,"-input")),s(),m("id",E("entry-",i.entry.id))("name",E("entry-",i.entry.id))("checked",i.completed)}}function Rt(t,e){t&1&&(a(0,"p",15),c(1,"No more ocean critters to catch :)"),o())}function Ut(t,e){if(t&1){let i=O();a(0,"section",7)(1,"h2",8),c(2," Birthdays "),o(),a(3,"app-card",9)(4,"div",10)(5,"div")(6,"h2",11),c(7," Today "),o(),a(8,"app-birthday-dashboard",12),_("itemClicked",function(r){S(i);let n=y();return I(n.showDetails(r))}),o()(),a(9,"div")(10,"h2",11),c(11," Tomorrow "),o(),a(12,"app-birthday-dashboard",12),_("itemClicked",function(r){S(i);let n=y();return I(n.showDetails(r))}),o()()()()(),a(13,"section",7)(14,"h2",8),c(15," Fish "),o(),a(16,"div",13),b(17,Mt,4,10,"div",14,De,!1,Nt,2,0,"p",15),o()(),a(20,"section",7)(21,"h2",8),c(22," Insects "),o(),a(23,"div",13),b(24,At,4,10,"div",14,De,!1,Vt,2,0,"p",15),o()(),a(27,"section",7)(28,"h2",8),c(29," Ocean critters "),o(),a(30,"div",13),b(31,$t,4,10,"div",14,De,!1,Rt,2,0,"p",15),o()()}if(t&2){let i=y();s(8),m("birthdays",i.birthdaysToday()),s(4),m("birthdays",i.birthdaysTomorrow()),s(5),v(i.fish()),s(7),v(i.insects()),s(7),v(i.oceanCritter())}}function Bt(t,e){t&1&&f(0,"mat-spinner",20)}function Gt(t,e){t&1&&(Me(0,Bt,1,0),Ne(1,0,Ft),Ae())}var Cn=(()=>{var e;let i=class i extends rt{constructor(){super();F(this,e);this.dashboards=C(dt),this.museumChecklistService=C(ct),this.userData=C(ye),te(this,e,C(He)),this.museumChecklistDefinition$=p(this,e).fetchMuseumChecklist$(),this.museuemDef=P({}),this.requests$=ke({museumDefinition:this.museumChecklistDefinition$.pipe(V(l=>this.museuemDef.set(l))),fish:this.dashboards.getFish$(),insects:this.dashboards.getInsects$(),oceanCritters:this.dashboards.getOceanCritters$(),birthdays:this.dashboards.getBirthdays$()}),this.filterFormGroup=new Ye({season:new T("Spring",{nonNullable:!0}),weather:new T("Sunny",{nonNullable:!0}),day:new T(1,{nonNullable:!0}),year:new T(1,{nonNullable:!0}),hideCompleted:new T(!0,{nonNullable:!0})}),ce(()=>{let l=this.userData.currentData().myGuideFilter;me(()=>this.filterFormGroup.patchValue(l))});let n=ze(this.filterFormGroup.valueChanges.pipe(Ie(()=>this.filterFormGroup.getRawValue()),V(l=>{this.userData.currentData().myGuideFilter=l,this.userData.save()})),{initialValue:this.filterFormGroup.getRawValue()});this.fish=R(()=>{let l=this.dashboards.getFish(),u=n().season,h=n().weather,x=n().hideCompleted,A=l().filter(N=>{let D=N.seasons.includes(u)&&N.weathers.includes(h),w={day:n().day,season:n().season,year:n().year},H=N.dateRanges.map(Se=>({from:Se.startsFrom,to:Se.lastsTill}));return D&&(!N.dateRanges.length||je(w,H,!0))}),j=[];return this.museuemDef().Fish.forEach(N=>{let D=A.find(w=>w.id===N.id);if(D){let w=this.museumChecklistService.isChecked(D.id);w&&x||j.push({completed:w,context:"museum",entry:D})}}),j}),this.insects=R(()=>{let l=this.dashboards.getInsects();return this.critterEntriesToList(l(),n(),this.museuemDef().Insects)}),this.oceanCritter=R(()=>{let l=this.dashboards.getOceanCritter();return this.critterEntriesToList(l(),n(),this.museuemDef()["Sea critters"])}),this.birthdaysToday=R(()=>{let l=this.dashboards.getBirthdays()(),u=n().season,h=n().day;return l.filter(x=>x.birthday.day===h&&x.birthday.season===u)}),this.birthdaysTomorrow=R(()=>{let l=this.dashboards.getBirthdays()(),u=n().season,x={day:n().day,season:u,year:1},A=pe(x,1);return l.filter(j=>j.birthday.day===A.day&&j.birthday.season===A.season)})}critterEntriesToList(n,l,u){let h=l.season,x=l.weather,A=l.hideCompleted,j=n.filter(D=>D.seasons.includes(h)&&(D.weathers.includes(x)||!D.weathers.length)),N=[];return u.forEach(D=>{let w=j.find(H=>H.id===D.id);if(w){let H=this.museumChecklistService.isChecked(w.id);H&&A||N.push({completed:H,context:"museum",entry:w})}}),N}updateChecklist(n,l,u){this.museumChecklistService.isChecked(l)?this.museumChecklistService.remove(l):this.museumChecklistService.add(l)}};e=new WeakMap,i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=g({type:i,selectors:[["app-index"]],features:[Ee],decls:10,vars:6,consts:[[3,"removePlaceholder"],["listDetail","",3,"item"],[1,"flex","flex-col","md:flex-row","gap-4","md:gap-8","mb-12"],[1,"font-semibold","text-3xl","text-white","flex","items-center","gap-x-4"],[1,"my-5","block",3,"parentFormGroup"],["appDatabaseItemDetails",""],[3,"details"],[1,"my-2"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[1,"@container"],[1,"@3xl:grid-cols-2","grid","gap-x-3","gap-y-5"],[1,"mb-4","font-semibold","text-2xl","text-black"],[3,"itemClicked","birthdays"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked"],[1,"col-span-full","text-white"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"change","id","checked","name"],[1,"mx-auto"]],template:function(l,u){l&1&&(a(0,"app-list-detail-container",0),q(1,Tt,2,1,"app-item-card-switch",1),a(2,"div",2)(3,"h1",3),c(4," My Coral Guide "),o(),f(5,"app-user-data-actions"),o(),f(6,"app-dashboard-filter",4),q(7,Ut,34,5),se(8,"async"),Ve(9,Gt,3,0),o()),l&2&&(m("removePlaceholder",u.showTable),s(),z(u.selectedEntity?1:-1),s(5),m("parentFormGroup",u.filterFormGroup),s(),z(le(8,4,u.requests$)?7:9))},dependencies:[ut,at,mt,lt,ft,ot,Ce,_e,Ct,Le],encapsulation:2});let t=i;return t})();export{Cn as IndexComponent};
