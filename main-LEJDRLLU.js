import{a as vt}from"./chunk-N6JTJ5CS.js";import{b as Ye,c as Je,d as Xe,e as Qe,f as qe,g as et}from"./chunk-4TBGL2VS.js";import{a as nt}from"./chunk-QMME4LCE.js";import{a as $e,b as tt,c as rt}from"./chunk-MAIN7TPK.js";import{b as gt}from"./chunk-5NO5LL4W.js";import{a as ot}from"./chunk-VO65IASJ.js";import{d as ft}from"./chunk-RZQ3UNDK.js";import"./chunk-DKARO4CX.js";import"./chunk-DHAI4KFY.js";import{u as ze,v as Ke}from"./chunk-5MLMU7SK.js";import{b as We}from"./chunk-GEWE6M22.js";import"./chunk-SJRCRC22.js";import{c as ht}from"./chunk-EE6A4D3O.js";import{M as Ze}from"./chunk-2CFRUPNI.js";import{a as $}from"./chunk-F6RS7OIB.js";import{a as it,d as at,f as G,g as st,h as H,i as pt,j as lt,k as ct,l as dt,m as mt}from"./chunk-KW5235UB.js";import{b as h}from"./chunk-7JOAVXDE.js";import{a as Be,b as Ue,c as Ve,e as Ge,f as He}from"./chunk-7SDYZQX7.js";import{b,c as W,d as ut}from"./chunk-KUYOE2KN.js";import{b as Pe,c as Le,d as je}from"./chunk-AJOFB37Q.js";import{$ as ue,$b as B,A as C,Bb as Ee,Cb as Me,Dc as V,Eb as X,G as w,Gc as Te,Hc as Ae,I as le,Ib as u,Ka as ye,Kb as Q,Mc as De,Oa as Ce,Ob as I,P as ce,Qa as we,Qb as q,Rb as ee,Sb as te,Tb as s,U as A,Ub as p,Vb as m,X as de,Y as me,Zb as Ie,_ as k,ac as U,ba as F,da as J,db as c,dd as Re,ea as l,f as oe,fa as P,ga as he,gb as ke,j as ie,jb as Se,k as E,l as ae,ld as Ne,ma as ge,na as fe,p as y,pc as _e,q as se,qa as ve,rc as d,sa as L,sb as f,sc as _,t as pe,tb as xe,tc as Oe,u as K,va as be,w as Z,wd as Fe,y as Y,ya as j,yb as v,z as M}from"./chunk-GYX7HZX3.js";import{a as x,b as N}from"./chunk-4CLCTAJ7.js";function Rt(t,n){if(t&1&&(d(0," - "),s(1,"span"),d(2),p()),t&2){let e=U();c(2),_(e.dialogData.changelog.date)}}var bt=(()=>{class t{constructor(){this.dialogData=l(Ye),this.#e=l(b)}#e;toggleDisableChangelog(e){this.#e.saveSettings(N(x({},this.#e.getSettings()),{disableChangelogs:e.checked}))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-changelog-dialog"]],decls:13,vars:3,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[3,"data"],[1,"!justify-between"],[3,"change"],["matDialogClose","",1,"btn-amber"]],template:function(r,o){r&1&&(s(0,"h1",0),d(1,"Changelog"),p(),s(2,"mat-dialog-content",1)(3,"div",2)(4,"span"),d(5),p(),v(6,Rt,3,1),p(),m(7,"markdown",3),p(),s(8,"mat-dialog-actions",4)(9,"mat-checkbox",5),B("change",function(i){return o.toggleDisableChangelog(i)}),d(10,"Don't show changelogs"),p(),s(11,"button",6),d(12,"Close"),p()()),r&2&&(c(5),_(o.dialogData.changelog.version),c(),I(o.dialogData.changelog.date?6:-1),c(),u("data",o.dialogData.changelog.body))},dependencies:[et,Xe,Qe,qe,tt,nt],styles:["[_nghost-%COMP%]{--mdc-dialog-subhead-weight: 700;--mdc-dialog-subhead-size: 1.5rem;--mdc-dialog-subhead-line-height: 1.8rem}"]})}}return t})();var Nt=()=>["cdk-overlay-dark-backdrop","!transition-none"],yt=()=>["text-white","active"];function Ft(t,n){t&1&&(s(0,"span",7),d(1,"BETA"),p())}function Pt(t,n){if(t&1&&(s(0,"li")(1,"a",15),m(2,"app-ui-icon",16),s(3,"span",17),d(4),p()()()),t&2){let e=n.$implicit;c(),u("routerLink",e.path)("routerLinkActive",V(4,yt)),c(),u("uiIcon",e.uiIcon),c(2),_(e.text)}}function Lt(t,n){if(t&1&&(s(0,"li",19)(1,"a",20),m(2,"app-ui-icon",21),s(3,"span",22),d(4),p()()()),t&2){let e=n.$implicit;c(),u("routerLinkActive",V(4,yt))("routerLink",e.path),c(),u("uiIcon",e.uiIcon),c(2),_(e.text)}}function jt(t,n){if(t&1&&(s(0,"ul",18),ee(1,Lt,5,5,"li",19,q),p()),t&2){let e=U();c(),te(e.naviLinks)}}var Ct=(()=>{class t{#e;constructor(){this.naviLinks=[{text:"Journal",uiIcon:h.JOURNAL,path:"journal/produce/crops"},{text:"Crafting",uiIcon:h.CRAFTING,path:"crafting"},{text:"NPCs",uiIcon:h.PEOPLE,path:"npcs"},{text:"Locations",uiIcon:h.MAP,path:"locations"},{text:"My Guide",uiIcon:h.MY_CORAL,path:"my"},{text:"Item database",uiIcon:h.DATABASE,path:"database"}],this.isOpen=!1,this.uiIcon=h,this.isBeta=l(b).getSettings().useBeta,this.#e=l(st),this.#e.events.pipe(C(e=>e instanceof it)).subscribe(()=>{this.isOpen=!1})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-header"]],hostAttrs:[1,"app-header"],hostVars:2,hostBindings:function(r,o){r&2&&Q("open-menu",o.isOpen)},decls:19,vars:9,consts:[["trigger","cdkOverlayOrigin"],[1,"flex","justify-between","px-4"],[1,"relative","flex"],["routerLink","/",1,"flex","gap-x-4","items-center","text-header"],["alt","Super Coral. Logo of the website.","src","assets/ui/images/icons/Super_Coral.png",1,"h-12","w-12","xl:w-16","xl:h-16"],[1,"text-4xl","font-semibold","hidden","xl:block"],[1,"text-4xl","font-semibold","block","xl:hidden"],[1,"beta-badge","xl:!top-5","leading-none","font-bold","text-black","absolute","px-1.5","py-1","rounded-sm","right-0"],[1,"hidden","md:block"],[1,"flex","gap-x-6"],[1,"block","md:hidden"],["cdkOverlayOrigin","","type","button",1,"flex","flex-col","py-3","px-2","text-neutral-400","hover:text-neutral-300","items-center","text-center",3,"click"],[1,"!h-10","!w-10","max-xl",3,"uiIcon"],[1,"user-sync","hidden","xl:block"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","",3,"cdkConnectedOverlayBackdropClass","cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin","cdkConnectedOverlayPanelClass"],[1,"flex","flex-col","py-3","px-2","text-neutral-400","hover:text-neutral-300","items-center","text-center",3,"routerLink","routerLinkActive"],[1,"!h-6","!w-6","xl:!h-12","xl:!w-12","mb-2","max-xl",3,"uiIcon"],[1,"xl:text-lg","font-semibold"],[1,"py-4"],[1,"my-2"],[1,"flex","py-3","px-4","text-neutral-400","hover:text-neutral-300","items-center",3,"routerLinkActive","routerLink"],[1,"!h-6","!w-6","mr-3","max-xl",3,"uiIcon"],[1,"font-semibold"]],template:function(r,o){if(r&1){let a=Ie();s(0,"div",1)(1,"div",2)(2,"a",3),m(3,"img",4),s(4,"span",5),d(5,"Coral Guide"),p(),s(6,"span",6),d(7,"CG"),p()(),v(8,Ft,2,0,"span",7),p(),s(9,"nav",8)(10,"ul",9),ee(11,Pt,5,5,"li",null,q),p()(),s(13,"div",10)(14,"button",11,0),B("click",function(){return ge(a),fe(o.isOpen=!o.isOpen)}),m(16,"app-ui-icon",12),p()(),m(17,"div",13),p(),v(18,jt,3,0,"ng-template",14)}if(r&2){let a=_e(15);c(8),I(o.isBeta?8:-1),c(3),te(o.naviLinks),c(5),Q("!text-accent",o.isOpen),u("uiIcon",o.uiIcon.BURGER_MENU),c(2),u("cdkConnectedOverlayBackdropClass",V(8,Nt))("cdkConnectedOverlayOpen",o.isOpen)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayPanelClass","mobile-menu-panel")}},dependencies:[Ke,pt,H,$,ze],styles:[`.app-header{--header-text-color: #8a7c67;display:block;--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);padding-right:env(safe-area-inset-right);padding-left:env(safe-area-inset-left);padding-top:env(safe-area-inset-top);background-color:#000000bf}.app-header.open-menu{z-index:1001}.app-header .active .app-ui-icon{--tw-text-opacity: 1;color:rgb(216 158 67 / var(--tw-text-opacity))}.mobile-menu-panel{display:block;--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);padding-right:env(safe-area-inset-right);padding-left:env(safe-area-inset-left);background-color:#000000bf;left:0!important;right:0!important}.mobile-menu-panel .active .app-ui-icon{--tw-text-opacity: 1;color:rgb(216 158 67 / var(--tw-text-opacity))}.text-header{color:var(--header-text-color)}.beta-badge{background-color:var(--header-text-color);padding:3px;font-size:80%;transform:translate(60%);top:5px;pointer-events:none}
`],encapsulation:2})}}return t})();var wt=(()=>{class t{constructor(){this.uiIcon=h,this.version=l(W).value()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-footer"]],hostAttrs:[1,"app-footer"],decls:13,vars:2,consts:[[1,"backdrop-blur-xl","px-safe","pt-4","pb-safe-or-4","text-white/70","items-center","justify-center","flex","gap-2","flex-wrap"],[1,"!text-gifting/80","!w-5","!h-5",3,"uiIcon"],["routerLink","/about",1,"text-accent"],["fragment","support","routerLink","/about",1,"text-accent"],["href","https://github.com/koenigderluegner/coral-island-guide","target","_blank","rel","noopener noreferrer",1,"text-accent","inline-flex","gap-2"],["ngSrc","/assets/ui/images/icons/github-mark.svg","width","16","height","16"]],template:function(r,o){r&1&&(s(0,"footer",0),d(1," Made with "),m(2,"app-ui-icon",1),d(3," by Koenig. "),s(4,"a",2),d(5,"About Coral Guide"),p(),d(6," - "),s(7,"a",3),d(8,"Support Coral Guide"),p(),d(9),s(10,"a",4),m(11,"img",5),d(12," Code on GitHub"),p()()),r&2&&(c(2),u("uiIcon",o.uiIcon.LOVE),c(7),Oe(" - Data from game version (steam): ",o.version," - "))},dependencies:[$,H,Fe],styles:[`.app-footer footer{background-color:#000000bf;min-height:var(--cg-min-footer-height)}
`],encapsulation:2})}}return t})();function Bt(t,n){t&1&&m(0,"router-outlet")}function Ut(t,n){t&1&&m(0,"mat-spinner",1)}var kt=(()=>{class t{#e=l(We);#t=l($e);#r=l(Je);#n=l(b);constructor(){l(ot).read(),this.#n.getSettings().disableChangelogs||we(()=>{this.#t.getLatestChangelog().subscribe({next:e=>{if(e.version===this.#t.getLatestSeen())return;this.#r.open(bt,{data:{changelog:e},hasBackdrop:!0,width:"800px"}).afterClosed().subscribe({next:()=>{this.#t.setLatestSeen(e)}})}})}),this.prefetchData$=se([this.#e.fetchItems$(),this.#e.fetchTagBasedItems$(),this.#e.fetchProcessorMapping$(),this.#e.fetchCookingUtensilMapping$()])}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"flex-grow-0","flex-shrink-0"],[1,"text-white","mx-auto","my-5"]],template:function(r,o){if(r&1&&(m(0,"app-header",0),s(1,"main"),v(2,Bt,1,0,"router-outlet"),Te(3,"async"),v(4,Ut,1,0,"mat-spinner",1),p(),m(5,"app-footer",0)),r&2){let a;c(2),I((a=Ae(3,1,o.prefetchData$))?2:4,a)}},dependencies:[Ct,Ne,at,ht,wt],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - (var(--cg-min-header-height) + var(--cg-min-footer-height)))}"]})}}return t})();var St=[{path:"",pathMatch:"full",loadComponent:()=>import("./chunk-KHEVJVLG.js").then(t=>t.StartComponent)},{path:"journal",loadChildren:()=>import("./chunk-DUFGUHQ5.js").then(t=>t.routes)},{path:"database",title:"Database",loadComponent:()=>import("./chunk-P66IRN67.js").then(t=>t.DatabaseComponent)},{path:"database/:itemId",title:"Database",loadComponent:()=>import("./chunk-P66IRN67.js").then(t=>t.DatabaseComponent)},{path:"crafting",loadChildren:()=>import("./chunk-LPOI5TRF.js").then(t=>t.routes)},{path:"people",pathMatch:"prefix",redirectTo:"npcs"},{path:"npcs",loadChildren:()=>import("./chunk-4FCPNDFN.js").then(t=>t.routes)},{path:"locations",loadChildren:()=>import("./chunk-3ZAWHQMV.js").then(t=>t.routes)},{path:"settings",pathMatch:"full",redirectTo:"my/settings",data:{redirected:!0}},{path:"checklist",pathMatch:"prefix",redirectTo:"my/to-do",data:{redirected:!0}},{path:"only-in-live",loadComponent:()=>import("./chunk-HMDUKQDB.js").then(t=>t.OnlyInBLiveComponent)},{path:"only-in-beta",loadComponent:()=>import("./chunk-FVOBVSGO.js").then(t=>t.OnlyInBetaComponent)},{path:"my",loadChildren:()=>import("./chunk-2ZXJS64Y.js").then(t=>t.routes)},{path:"about",loadComponent:()=>import("./chunk-LNIELA3K.js").then(t=>t.AboutComponent)},{path:"**",loadComponent:()=>import("./chunk-PY6HY6TV.js").then(t=>t.Error404Component)}];var Vt="@",Gt=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=l(L);loadingSchedulerFn=l(Ht,{optional:!0});_engine;constructor(e,r,o,a,i){this.doc=e,this.delegate=r,this.zone=o,this.animationType=a,this.moduleImpl=i}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-FH74Y7IA.js").then(o=>o),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(e):r=e(),r.catch(o=>{throw new me(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc);let i=new a(this.delegate,this._engine,this.zone);return this.delegate=i,i})}createRenderer(e,r){let o=this.delegate.createRenderer(e,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new re(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(i=>{let g=i.createRenderer(e,r);a.use(g),this.scheduler??=this.injector.get(be,null,{optional:!0}),this.scheduler?.notify(10)}).catch(i=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(r){Se()};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),re=class{delegate;replay=[];\u0275type=1;constructor(n){this.delegate=n}use(n){if(this.delegate=n,this.replay!==null){for(let e of this.replay)e(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,e){this.delegate.appendChild(n,e)}insertBefore(n,e,r,o){this.delegate.insertBefore(n,e,r,o)}removeChild(n,e,r){this.delegate.removeChild(n,e,r)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,o){this.delegate.setAttribute(n,e,r,o)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,o){this.delegate.setStyle(n,e,r,o)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(n,e,r)),this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r,o){return this.shouldReplay(e)&&this.replay.push(a=>a.listen(n,e,r,o)),this.delegate.listen(n,e,r,o)}shouldReplay(n){return this.replay!==null&&n.startsWith(Vt)}},Ht=new F("");function xt(t="animations"){return Ce("NgAsyncAnimations"),P([{provide:ke,useFactory:(n,e,r)=>new Gt(n,e,r,t),deps:[Re,Be,j]},{provide:ye,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var R="Service workers are disabled or not supported by this browser";function Wt(t){return K(()=>ae(new Error(t)))}var T=class{serviceWorker;worker;registration;events;constructor(n){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=Wt(R);else{let r=Z(n,"controllerchange").pipe(y(()=>n.controller)),o=K(()=>E(n.controller)),a=pe(o,r);this.worker=a.pipe(C(S=>!!S)),this.registration=this.worker.pipe(A(()=>n.getRegistration()));let ne=Z(n,"message").pipe(y(S=>S.data)).pipe(C(S=>S&&S.type)).pipe(ce());ne.connect(),this.events=ne}}postMessage(n,e){return this.worker.pipe(w(1),de(r=>{r.postMessage(x({action:n},e))})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){let o=this.waitForOperationCompleted(r),a=this.postMessage(n,e);return Promise.all([a,o]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let e;return typeof n=="string"?e=r=>r.type===n:e=r=>n.includes(r.type),this.events.pipe(C(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(w(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(C(e=>e.nonce===n),w(1),y(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},It=(()=>{class t{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new oe;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=M,this.notificationClicks=M,this.subscription=M;return}this.messages=this.sw.eventsOfType("PUSH").pipe(y(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(y(o=>o.data)),this.pushManager=this.sw.registration.pipe(y(o=>o.pushManager));let r=this.pushManager.pipe(A(o=>o.getSubscription()));this.subscription=Y(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(R));let r={userVisibleOnly:!0},o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(o.length));for(let i=0;i<o.length;i++)a[i]=o.charCodeAt(i);return r.applicationServerKey=a,this.pushManager.pipe(A(i=>i.subscribe(r)),w(1)).toPromise().then(i=>(this.subscriptionChanges.next(i),i))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(R));let e=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(w(1),A(e)).toPromise()}decodeBase64(e){return atob(e)}static \u0275fac=function(r){return new(r||t)(J(T))};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),_t=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=M,this.unrecoverable=M;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(R));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(R));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(r){return new(r||t)(J(T))};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})();var Et=new F("");function $t(t,n,e){return()=>{if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let r=t.get(j),o=t.get(X);r.runOutsideAngular(()=>{let i=navigator.serviceWorker,g=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",g),o.onDestroy(()=>{i.removeEventListener("controllerchange",g)})});let a;if(typeof e.registrationStrategy=="function")a=e.registrationStrategy();else{let[i,...g]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":a=E(null);break;case"registerWithDelay":a=Mt(+g[0]||0);break;case"registerWhenStable":let z=ie(t.get(X).whenStable());a=g[0]?Y(z,Mt(+g[0])):z;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}r.runOutsideAngular(()=>a.pipe(w(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(i=>console.error("Service worker registration failed with:",i))))}}function Mt(t){return E(null).pipe(le(t))}function zt(t){return new T(t.enabled!==!1?navigator.serviceWorker:void 0)}var D=class{enabled;scope;registrationStrategy};function Kt(t,n={}){return P([It,_t,{provide:Et,useValue:t},{provide:D,useValue:n},{provide:T,useFactory:zt,deps:[D]},{provide:Ee,useFactory:$t,deps:[L,Et,D],multi:!0}])}var Ot=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[Kt(e,r)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=xe({type:t});static \u0275inj=ue({providers:[It,_t]})}return t})();var Tt=(()=>{class t extends G{constructor(){super(...arguments),this.title=l(Ve)}updateTitle(e){let r=this.buildTitle(e);r!==void 0?this.title.setTitle(`${r} - Coral Guide`):this.title.setTitle("Coral Guide")}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=ve(t)))(o||t)}})()}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var At=(t,n)=>{let e=l(W).value();if(t.url.includes("assets")){let r=t.clone({params:t.params.append("version",e)});return n(r)}return n(t)};var Zt={scrollPositionRestoration:"disabled",anchorScrolling:"enabled",scrollOffset:[0,64]},Dt={providers:[He(Ge()),lt(St,mt(),ct(),dt(Zt)),xt(),rt(),{provide:ft,useValue:{appearance:"outline",hideRequiredMarker:!1}},Me(()=>((n,e)=>(n||e.saveSettings(N(x({},e.getSettings()),{useBeta:!1})),()=>E()))(l(vt,{optional:!0}),l(b))()),{provide:Ze,useValue:{disabled:!0}},{provide:gt,useValue:{animationDuration:"0",stretchTabs:!1}},{provide:G,useClass:Tt},Pe(Le([At]),je()),he(Ot.register("ngsw-worker.js",{enabled:!De(),registrationStrategy:"registerWhenStable:30000"})),ut()]};Ue(kt,Dt).catch(t=>console.error(t));
