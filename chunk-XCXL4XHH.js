import{a as rt}from"./chunk-F4TUYCIO.js";import{a as it,b as at}from"./chunk-4FC5X73U.js";import{a as tt,b as nt}from"./chunk-W62UHBDW.js";import{a as Z}from"./chunk-MCZ27GCN.js";import{a as et}from"./chunk-XCL4JOYZ.js";import{b as ot}from"./chunk-3NZE6WSA.js";import{d as X}from"./chunk-IP6ODCNA.js";import{b as $}from"./chunk-5BU3IDKS.js";import{i as R}from"./chunk-I7ZNO67X.js";import{a as Y}from"./chunk-24VFFX2T.js";import{b as z}from"./chunk-7M6VBWZN.js";import{a as J}from"./chunk-OTWAXCZF.js";import{h as H}from"./chunk-NKAP6NYB.js";import{a as P}from"./chunk-KM3RDE6Q.js";import{i as U,k as W}from"./chunk-PK2RARDK.js";import{$b as G,Bc as V,Gb as d,Hb as A,Ib as l,Ic as K,Kc as r,Lc as m,Mc as v,Nb as u,Ob as x,Pb as s,Qb as f,S as w,Xb as F,Ya as a,Yc as _,bc as p,ca as b,cc as Q,dc as j,ia as L,id as O,ja as N,jb as M,k as h,mb as C,p as E,qc as I,rc as B,wa as q}from"./chunk-ELCUH6OG.js";import{f as T,g as S,h as D}from"./chunk-IGH4DTA6.js";var pt=(()=>{let e=class e{transform(n){return!!n&&"key"in n&&"displayName"in n&&"iconName"in n}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=C({name:"isMinimalTagBasedItem",type:e,pure:!0});let t=e;return t})();var mt=(()=>{let e=class e extends pt{transform(n){return super.transform(n)&&"items"in n}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=q(e)))(c||e)}})(),e.\u0275pipe=C({name:"isTagBasedItem",type:e,pure:!0});let t=e;return t})();var st=(()=>{let e=class e{transform(n){return!!n&&"id"in n&&"displayName"in n&&"price"in n&&"sellPrice"in n&&n.id.toLowerCase().startsWith("item_")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=C({name:"isItem",type:e,pure:!0});let t=e;return t})();var ct=(()=>{let e=class e{transform(n){return n.map(o=>({item:o,amount:1}))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=C({name:"toItemListEntries",type:e,pure:!0});let t=e;return t})();var dt=["*"],lt=t=>["/database",t];function ut(t,e){if(t&1&&(x(0,"span",9),I(1),r(2,"translate"),r(3,"addSpacesToPascalCase"),s()),t&2){let i=p();a(),B(m(3,3,m(2,1,i.displayKey)))}}function ft(t,e){if(t&1&&(x(0,"span",10)(1,"a",14),f(2,"app-ui-icon",15),s()()),t&2){let i=p(),n=p();a(),u("routerLink",K(2,lt,i.id)),a(),u("uiIcon",n.uiIcon.DATABASE)}}function Ct(t,e){if(t&1&&(x(0,"span",12),I(1),r(2,"translate"),s()),t&2){let i=p();a(),B(v(2,1,i.description,"translateParams"in i?i.translateParams:void 0))}}function xt(t,e){if(t&1&&(f(0,"app-item-list",13),r(1,"toItemListEntries")),t&2){let i=p();u("itemList",m(1,1,i.items))}}function _t(t,e){if(t&1&&f(0,"app-quality-grid",16),t&2){let i=p(2);u("item",i)}}function yt(t,e){if(t&1&&f(0,"app-money",18),t&2){let i=p(3);u("amount",i.sellPrice)}}function It(t,e){if(t&1&&(x(0,"div",17),I(1," Sells for: "),d(2,yt,1,1,"app-money",18),s()),t&2){let i=p(2);a(2),l(i&&"sellPrice"in i?2:-1)}}function ht(t,e){if(t&1&&(d(0,_t,1,1,"app-quality-grid",16),r(1,"isItem"),r(2,"keyvalue"),A(3,It,3,1,"div",17)),t&2){let i=p(),n=p();l(m(1,1,i)&&v(2,3,i.qualities,null).length&&!n.hideQualityGrid()?0:3)}}function Bt(t,e){if(t&1){let i=F();x(0,"app-card",0)(1,"div",1),f(2,"app-to-do-toggle",2),x(3,"button",3),G("click",function(){L(i);let o=p();return N(o.listDetails.close())}),f(4,"app-ui-icon",4),s()(),f(5,"app-item-icon",5),x(6,"div",6)(7,"div",7)(8,"div",8),I(9),r(10,"translate"),s(),d(11,ut,4,5,"span",9),r(12,"isTagBasedItem"),s(),d(13,ft,3,4,"span",10),r(14,"isTagBasedItem"),s(),f(15,"hr",11),d(16,Ct,3,4,"span",12),r(17,"isTagBasedItem"),j(18),d(19,xt,2,3,"app-item-list",13),r(20,"isTagBasedItem"),d(21,ht,4,6),r(22,"isTagBasedItem"),s()}if(t&2){let i=e,n=p();a(2),u("amount",n.amount())("quality",n.quality())("item",n.item())("context",n.context()),a(2),u("uiIcon",n.uiIcon.CROSS),a(),u("itemName",V(i.iconName))("amount",n.amount()),a(4),B(m(10,14,i.displayName)),a(2),l(m(12,16,i)?-1:11),a(2),l(m(14,18,i)?-1:13),a(3),l(m(17,20,i)?-1:16),a(3),l(m(20,22,i)?19:-1),a(2),l(m(22,24,i)?-1:21)}}var Jt=(()=>{var e;let i=class i{constructor(){S(this,e);this.item=_.required(),this.context=_(),this.amount=_(),this.quality=_(),this.hideQualityGrid=_(!1,{transform:O}),this.uiIcon=P,this.UiIcon=P,this.listDetails=b(Z),D(this,e,b($)),this.fetchedItems=z(this.item).pipe(w(o=>{if(this.isItem(o))return h(o);{let c=R(o);return this.isCustomEntry(o)?h(o):this.isTagBasedItem(o)?h(T(this,e).getTagBasedItems().find(y=>y.key===c)):T(this,e).fetchDatabaseItem$(c).pipe(E(y=>y.item))}}))}isTagBasedItem(o){return"key"in o}isCustomEntry(o){return"id"in o&&!o.id.toLowerCase().startsWith("item_")}isItem(o){return"sellPrice"in o&&"price"in o&&"description"in o&&o.id.toLowerCase().startsWith("item_")}};e=new WeakMap,i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=M({type:i,selectors:[["app-base-item-card"]],inputs:{item:[1,"item"],context:[1,"context"],amount:[1,"amount"],quality:[1,"quality"],hideQualityGrid:[1,"hideQualityGrid"]},ngContentSelectors:dt,decls:2,vars:3,consts:[[1,"text-lg","font-semibold","relative"],["cardActions","",1,"card-actions"],[3,"amount","quality","item","context"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],["cardIcon","",3,"amount","itemName"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"text-accent","text-2xl"],["matTooltip","Open in database","matTooltipPosition","before"],[1,"my-5"],[1,"text-lg","mb-6"],[1,"mt-6",3,"itemList"],[3,"routerLink"],[1,"focus-visible:!text-black","hover:!text-black",3,"uiIcon"],["includePrices","",1,"mt-6",3,"item"],[1,"flex"],[1,"ml-2","text-black",3,"amount"]],template:function(c,y){if(c&1&&(Q(),d(0,Bt,23,26,"app-card",0),r(1,"async")),c&2){let k;l((k=m(1,1,y.fetchedItems))?0:-1,k)}},dependencies:[Y,it,J,ot,et,H,at,rt,nt,mt,tt,st,W,ct,X,U],encapsulation:2});let t=i;return t})();export{Jt as a};
