import{a as te,b as ne,c as ie}from"./chunk-PFB35SWV.js";import{a as X}from"./chunk-KC67TOUF.js";import{a as Z,b as ee}from"./chunk-NLZQLISO.js";import"./chunk-KDKB2PV6.js";import"./chunk-AEQRSF3N.js";import"./chunk-TVWIYZG5.js";import"./chunk-XCXL4XHH.js";import"./chunk-ID6WLUT2.js";import"./chunk-IFP3IRQO.js";import{a as Q}from"./chunk-TL6QC6TM.js";import"./chunk-3KO7CVQP.js";import"./chunk-OGS4EVII.js";import"./chunk-F4TUYCIO.js";import"./chunk-4FC5X73U.js";import"./chunk-EEJJBISB.js";import"./chunk-W62UHBDW.js";import"./chunk-MG3YOV2C.js";import{a as J}from"./chunk-Q6TTGOE2.js";import"./chunk-32PODRCK.js";import{b as j}from"./chunk-MCZ27GCN.js";import"./chunk-XCL4JOYZ.js";import"./chunk-PEGVYEIS.js";import"./chunk-EAHNU44C.js";import{b as G}from"./chunk-3NZE6WSA.js";import"./chunk-NS43UFKU.js";import"./chunk-DS5QD6KN.js";import"./chunk-XMGSTBON.js";import"./chunk-VEYYY66H.js";import"./chunk-4I65K53K.js";import"./chunk-AZ3T5YEV.js";import"./chunk-7MLGAPHH.js";import"./chunk-IP6ODCNA.js";import"./chunk-5BU3IDKS.js";import"./chunk-I7ZNO67X.js";import{a as Y}from"./chunk-24VFFX2T.js";import"./chunk-7M6VBWZN.js";import"./chunk-YU6OV3L2.js";import{a as K}from"./chunk-OTWAXCZF.js";import"./chunk-NKAP6NYB.js";import"./chunk-KM3RDE6Q.js";import"./chunk-JY3RTIIU.js";import"./chunk-2SASL4UW.js";import"./chunk-B7M7KWVX.js";import{i as q}from"./chunk-PK2RARDK.js";import{$b as g,Gb as c,Ib as s,Kb as b,Kc as z,Lb as D,Lc as O,Mb as S,Nb as _,Ob as d,Pb as r,Qb as h,Rc as L,Ub as F,Vb as W,Xb as w,Ya as a,bc as o,ia as u,ja as f,jb as H,nb as P,nc as v,qc as x,sc as $,vc as I,wc as A,xc as E}from"./chunk-ELCUH6OG.js";import{a as U,b as N,c as k,f as V,g as B,h as M}from"./chunk-IGH4DTA6.js";function le(t,n){if(t&1&&h(0,"app-shop-item-data-details",1),t&2){let e=o();_("shopItemData",e.selectedEntity)}}function re(t,n){if(t&1&&h(0,"app-animal-details",2),t&2){let e=o();_("mappedAnimalShopData",e.selectedAnimal)}}function me(t,n){t&1&&h(0,"app-opening-hours",7),t&2&&_("openingHours",n)}function pe(t,n){if(t&1&&c(0,me,1,1,"app-opening-hours",7),t&2){let e,l=o();s((e=l.openingHours$.value())?0:-1,e)}}function ce(t,n){if(t&1){let e=w();d(0,"app-item-icon",12),g("click",function(){let m=u(e).$implicit,i=o(4);return f(i.showDetails(m))}),r()}if(t&2){let e=n.$implicit,l=o(4);v("selected-icon",(l.selectedEntity==null||l.selectedEntity.item==null?null:l.selectedEntity.item.id)===e.item.id),_("itemName",e.item.iconName)}}function se(t,n){if(t&1&&(d(0,"div",9),D(1,ce,1,3,"app-item-icon",11,b),r()),t&2){let e=o();a(),S(e)}}function de(t,n){if(t&1&&h(0,"app-shop-item-data-table",10),t&2){let e=o();_("dataSource",e)}}function _e(t,n){if(t&1){let e=w();d(0,"app-data-filter",8),E("showTableChange",function(m){u(e);let i=o(2);return A(i.showTable,m)||(i.showTable=m),f(m)}),r(),c(1,se,3,0,"div",9),c(2,de,1,1,"app-shop-item-data-table",10)}if(t&2){let e=o(2);I("showTable",e.showTable),a(),s(e.showTable?-1:1),a(),s(e.showTable?2:-1)}}function he(t,n){if(t&1&&(d(0,"h2",5),x(1,"Stock list"),r(),c(2,_e,3,3),z(3,"async")),t&2){let e,l=o();a(2),s((e=O(3,1,l.shopItemData$))?2:-1,e)}}function Ce(t,n){if(t&1){let e=w();d(0,"app-item-icon",12),g("click",function(){let m=u(e).$implicit,i=o(3);return f(i.showAnimal(m))}),r()}if(t&2){let e=n.$implicit,l=o(3);v("selected-icon",(l.selectedAnimal==null?null:l.selectedAnimal.key)===e.key),_("itemName",(e.animal==null||e.animal.variants==null||e.animal.variants[0]==null||e.animal.variants[0].icons==null?null:e.animal.variants[0].icons.adult)??null)}}function ue(t,n){if(t&1&&(d(0,"div",9),D(1,Ce,1,3,"app-item-icon",11,b),r()),t&2){let e=o();a(),S(e)}}function fe(t,n){if(t&1){let e=w();d(0,"app-data-filter",8),E("showTableChange",function(m){u(e);let i=o();return A(i.showTable,m)||(i.showTable=m),f(m)}),r(),c(1,ue,3,0,"div",9)}if(t&2){let e=o();I("showTable",e.showTable),a(),s(e.showTable?-1:1)}}function we(t,n){t&1&&h(0,"app-animal-mood-table",6),t&2&&_("productSizeByMood",n)}var Be=(()=>{var n;let e=class e extends X{constructor(){super();B(this,n);this.shopName="underwater-ranch",this.sizeByMood=this._database.fetchAnimalMoodData(),M(this,n,ie(this._database.fetchAnimals(),this._database.fetchAnimalShopData(this.shopName))),this.animalData=L(()=>{let i=V(this,n).values();if(!i)return null;let[C,p]=i;return p.map(y=>{let R=y,{animalKey:T}=R,oe=k(R,["animalKey"]);return N(U({},oe),{animal:C.find(ae=>ae.key===T)})})}),this.openingHours$=this._database.fetchOpeningHours$(this.shopName)}showDetails(i){super.showDetails(i),this.selectedAnimal=void 0}showAnimal(i){this.selectedAnimal=i,this.selectedEntity=void 0,this.listDetail.open()}};n=new WeakMap,e.\u0275fac=function(C){return new(C||e)},e.\u0275cmp=H({type:e,selectors:[["app-underwater-ranch"]],features:[P],decls:16,vars:8,consts:[["listDetail",""],[3,"shopItemData"],[3,"mappedAnimalShopData"],[1,"mb-4","font-semibold","text-3xl","text-black","flex","items-center","gap-x-4"],[3,"uiIcon"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[3,"productSizeByMood"],[3,"openingHours"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"]],template:function(C,p){if(C&1&&(d(0,"app-list-detail-container"),F(1,0),c(2,le,1,1,"app-shop-item-data-details",1),c(3,re,1,1,"app-animal-details",2),W(),d(4,"app-card")(5,"h1",3),h(6,"app-ui-icon",4),x(7),r(),c(8,pe,1,1),r(),c(9,he,4,3),d(10,"h2",5),x(11,"Animals"),r(),c(12,fe,2,2),d(13,"h2",5),x(14,"Animal product size per mood and hearts"),r(),c(15,we,1,1,"app-animal-mood-table",6),r()),C&2){let y,T;a(2),s(p.selectedEntity?2:-1),a(),s(p.selectedAnimal?3:-1),a(3),_("uiIcon",p.SHOP_ICONS[p.shopName]),a(),$(" ",p.SHOP_DISPLAY_NAMES[p.shopName]," "),a(),s(p.openingHours$?8:-1),a(),s(p.shopItemData$?9:-1),a(3),s((y=p.animalData())?12:-1,y),a(3),s((T=p.sizeByMood.value())?15:-1,T)}},dependencies:[K,j,ee,ne,Y,Z,J,G,Q,te,q],encapsulation:2});let t=e;return t})();export{Be as UnderwaterRanchComponent};
