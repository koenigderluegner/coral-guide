import{a as J}from"./chunk-HZHWUMV5.js";import"./chunk-R36K3VH7.js";import{a as H}from"./chunk-VIHDBGTU.js";import"./chunk-A4HPUO3F.js";import{a as z}from"./chunk-AYHAHLTC.js";import{a as G}from"./chunk-XOUI6RZQ.js";import"./chunk-O2IAJ5L5.js";import"./chunk-IYMAANR5.js";import"./chunk-DUMUFVPR.js";import"./chunk-GZYBMURB.js";import"./chunk-OYPR7CJS.js";import{b as R,c as V}from"./chunk-QLTEDVDB.js";import"./chunk-ZNXHGMTD.js";import"./chunk-IBXLELUQ.js";import{b as j}from"./chunk-OU4TLBIG.js";import"./chunk-IJY46FI3.js";import"./chunk-3AJAQBMU.js";import"./chunk-7C5Y62SY.js";import{a as U}from"./chunk-VRZECYYF.js";import"./chunk-IIDJZWRT.js";import"./chunk-HIFLNZD5.js";import{a as L}from"./chunk-ZALICU3N.js";import"./chunk-47OJ7DES.js";import{a as O}from"./chunk-UUI6UFCU.js";import"./chunk-BFCDBX46.js";import"./chunk-G2FIETR4.js";import"./chunk-7DQT77OQ.js";import{i as N,l as A}from"./chunk-OHR5KDYC.js";import{Hb as l,Jb as d,Lb as x,Lc as u,Mb as g,Mc as h,Nb as v,Ob as _,Pb as o,Qb as p,Rb as f,Ub as b,Vb as k,Wb as q,Yb as w,Za as r,Zc as E,ac as B,cc as s,ia as M,ja as I,kb as C,kd as P,ob as T,oc as F,rc as m,sc as $,tc as D}from"./chunk-FPTGDBQG.js";import"./chunk-2QKSPLSF.js";var Q=(()=>{let t=class t{constructor(){this.amount=E.required({transform:P})}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=C({type:t,selectors:[["app-merit-points"]],inputs:{amount:[1,"amount"]},decls:3,vars:3,consts:[["src","assets/ui/images/icons/T_Icon_Merit.png",1,"app-merit-points-icon"]],template:function(a,n){a&1&&(m(0),u(1,"number"),b(2,"img",0)),a&2&&$(h(1,1,n.amount()))},dependencies:[A],styles:["[_nghost-%COMP%]{white-space:nowrap}.app-merit-points-icon[_ngcontent-%COMP%]{height:1em;display:inline-block;vertical-align:text-top;margin-left:2px}"]});let e=t;return e})();function X(e,t){if(e&1&&f(0,"app-effect",5),e&2){let i=t.$implicit;_("effect",i)}}function Y(e,t){if(e&1&&(o(0,"div",3),m(1,"Effects when bought: "),o(2,"div",4),g(3,X,1,1,"app-effect",5,x),p()()),e&2){let i=s();r(3),v(i)}}function Z(e,t){e&1&&l(0,Y,5,0,"div",3),e&2&&d(t.length?0:-1)}function ee(e,t){if(e&1&&m(0),e&2){let i=s(2);D(" Unlock requirements (",i.type==="And"?"all":"any"," of them): ")}}function te(e,t){e&1&&m(0," Unlock requirement: ")}function ie(e,t){if(e&1&&f(0,"app-requirements",6),e&2){let i=t.$implicit;_("requirement",i)}}function ne(e,t){if(e&1&&(o(0,"div",3),l(1,ee,1,1),l(2,te,1,0),o(3,"div",4),g(4,ie,1,1,"app-requirements",6,x),p()()),e&2){let i=s();r(),d(i.requirements.length>1?1:-1),r(),d(i.requirements.length<2?2:-1),r(2),v(i.requirements)}}function oe(e,t){e&1&&l(0,ne,6,2,"div",3),e&2&&d(t.requirements.length?0:-1)}var W=(()=>{let t=class t{constructor(){this.meritExchangeData=E.required()}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=C({type:t,selectors:[["app-merit-shop-details"]],inputs:{meritExchangeData:[1,"meritExchangeData"]},decls:16,vars:8,consts:[[3,"item"],[1,"text-black"],[3,"amount"],[1,"my-2"],[1,"flex","flex-col","text-black"],[3,"effect"],[3,"requirement"]],template:function(a,n){if(a&1&&(o(0,"app-base-item-card",0)(1,"div"),m(2,"Buy price: "),o(3,"span",1),f(4,"app-merit-points",2),p()(),o(5,"div"),m(6,"Amount Limit: "),o(7,"span",1),m(8),p()(),o(9,"div"),m(10,"Town rank: "),o(11,"span",1),m(12),u(13,"townrank"),p()(),l(14,Z,1,1),l(15,oe,1,1),p()),a&2){let y,S;_("item",n.meritExchangeData().item),r(4),_("amount",n.meritExchangeData().priceOverride!==0?n.meritExchangeData().priceOverride:n.meritExchangeData().item.price),r(4),D(" ",n.meritExchangeData().isLimitedItem?"x"+n.meritExchangeData().itemLimit:"not limited"," "),r(4),D(" ",h(13,6,n.meritExchangeData().townRank)," "),r(2),d((y=n.meritExchangeData().effects)?14:-1,y),r(),d((S=n.meritExchangeData().requirements)?15:-1,S)}},dependencies:[Q,H,z,J,G],encapsulation:2});let e=t;return e})();function ae(e,t){if(e&1&&f(0,"app-merit-shop-details",1),e&2){let i=s();_("meritExchangeData",i.selectedEntity)}}function re(e,t){if(e&1){let i=w();o(0,"app-item-icon",7),B("click",function(){let a=M(i).$implicit,n=s(4);return I(n.showDetails(a))}),p()}if(e&2){let i=t.$implicit,c=s(4);F("selected-icon",(c.selectedEntity==null||c.selectedEntity.item==null?null:c.selectedEntity.item.id)===i.item.id),_("itemName",i.item.iconName)}}function me(e,t){if(e&1&&(o(0,"div",5),g(1,re,1,3,"app-item-icon",6,x),p()),e&2){let i=s();r(),v(i)}}function pe(e,t){if(e&1&&l(0,me,3,0,"div",5),e&2){let i=s(2);d(i.showTable?-1:0)}}function ce(e,t){if(e&1&&(o(0,"h2",4),m(1,"Stock list"),p(),l(2,pe,1,1),u(3,"async")),e&2){let i,c=s();r(2),d((i=h(3,1,c.shopItemData$))?2:-1,i)}}var qe=(()=>{let t=class t extends V{constructor(){super(),this.uiIcon=O,this.shopItemData$=this._database.fetchMeritExchangeShopData$()}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=C({type:t,selectors:[["app-merit-shop"]],features:[T],decls:8,vars:3,consts:[["listDetail",""],[3,"meritExchangeData"],[1,"mb-4","font-semibold","text-3xl","text-black","flex","items-center","gap-x-4"],[3,"uiIcon"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[1,"icon-grid"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"]],template:function(a,n){a&1&&(o(0,"app-list-detail-container"),k(1,0),l(2,ae,1,1,"app-merit-shop-details",1),q(),o(3,"app-card")(4,"h1",2),f(5,"app-ui-icon",3),m(6," Merit Exchange "),p()(),l(7,ce,4,3),p()),a&2&&(r(2),d(n.selectedEntity?2:-1),r(3),_("uiIcon",n.uiIcon.STORE),r(2),d(n.shopItemData$?7:-1))},dependencies:[L,U,W,R,j,N],encapsulation:2});let e=t;return e})();export{qe as MeritShopComponent};
