import{a as et}from"./chunk-BP5TLU4W.js";import{a as X,b as tt}from"./chunk-BVOEAINN.js";import{a as H,b as Y}from"./chunk-3H2ZASFZ.js";import{a as z}from"./chunk-CMTXHUJM.js";import{a as J}from"./chunk-ZNXHGMTD.js";import{b as Z}from"./chunk-SNYRKERH.js";import{b as W}from"./chunk-CXGH7SOD.js";import{g as B}from"./chunk-D33HMA7I.js";import{a as $}from"./chunk-VRZECYYF.js";import{a as R}from"./chunk-ZALICU3N.js";import{h as O}from"./chunk-47OJ7DES.js";import{a as P}from"./chunk-SAY5CNC2.js";import{k as U}from"./chunk-OHR5KDYC.js";import{Cc as Q,Hb as d,Ib as q,Jb as l,Jc as j,Lc as m,Mc as C,Nc as v,Ob as u,Pb as x,Qb as s,Rb as f,Sc as V,Yb as M,Za as a,Zc as _,ac as F,ca as b,cc as r,dc as A,ec as G,ia as E,ja as w,jd as K,kb as L,nb as p,rc as y,sc as g,xa as N}from"./chunk-FPTGDBQG.js";import{d as T,e as S,f as D}from"./chunk-2QKSPLSF.js";var it=(()=>{let e=class e{transform(i){return!!i&&"key"in i&&"displayName"in i&&"iconName"in i}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=p({name:"isMinimalTagBasedItem",type:e,pure:!0});let t=e;return t})();var nt=(()=>{let e=class e extends it{transform(i){return super.transform(i)&&"items"in i}};e.\u0275fac=(()=>{let i;return function(c){return(i||(i=N(e)))(c||e)}})(),e.\u0275pipe=p({name:"isTagBasedItem",type:e,pure:!0});let t=e;return t})();var ot=(()=>{let e=class e{transform(i){return!!i&&"id"in i&&"displayName"in i&&"price"in i&&"sellPrice"in i&&i.id.toLowerCase().startsWith("item_")}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=p({name:"isItem",type:e,pure:!0});let t=e;return t})();var at=(()=>{let e=class e{transform(i){return i.map(n=>({item:n,amount:1}))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=p({name:"toItemListEntries",type:e,pure:!0});let t=e;return t})();var rt=(()=>{let e=class e{transform(i,n){return n in i}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=p({name:"has",type:e,pure:!0});let t=e;return t})();var mt=["*"],pt=t=>["/database",t];function st(t,e){if(t&1&&(x(0,"span",9),y(1),m(2,"addSpacesToPascalCase"),s()),t&2){let o=r();a(),g(C(2,1,o.displayKey))}}function ct(t,e){if(t&1&&(x(0,"span",10)(1,"a",14),f(2,"app-ui-icon",15),s()()),t&2){let o=r(),i=r();a(),u("routerLink",j(2,pt,o.id)),a(),u("uiIcon",i.uiIcon.DATABASE)}}function dt(t,e){if(t&1&&(x(0,"span",12),y(1),s()),t&2){let o=r();a(),g(o.description)}}function lt(t,e){if(t&1&&(f(0,"app-item-list",13),m(1,"toItemListEntries")),t&2){let o=r();u("itemList",C(1,1,o.items))}}function ut(t,e){if(t&1&&f(0,"app-quality-grid",16),t&2){let o=r(2);u("item",o)}}function ft(t,e){if(t&1&&f(0,"app-money",18),t&2){let o=r(3);u("amount",o.sellPrice)}}function Ct(t,e){if(t&1&&(x(0,"div",17),y(1," Sells for: "),d(2,ft,1,1,"app-money",18),m(3,"has"),s()),t&2){let o=r(2);a(2),l(o&&v(3,1,o,"sellPrice")?2:-1)}}function xt(t,e){if(t&1&&(d(0,ut,1,1,"app-quality-grid",16),m(1,"isItem"),m(2,"keyvalue"),q(3,Ct,4,4,"div",17)),t&2){let o=r(),i=r();l(C(1,1,o)&&v(2,3,o.qualities,null).length&&!i.hideQualityGrid()?0:3)}}function _t(t,e){if(t&1){let o=M();x(0,"app-card",0)(1,"div",1),f(2,"app-to-do-toggle",2),x(3,"button",3),F("click",function(){E(o);let n=r();return w(n.listDetails.close())}),f(4,"app-ui-icon",4),s()(),f(5,"app-item-icon",5),x(6,"div",6)(7,"div",7)(8,"div",8),y(9),s(),d(10,st,3,3,"span",9),m(11,"isTagBasedItem"),s(),d(12,ct,3,4,"span",10),m(13,"isTagBasedItem"),s(),f(14,"hr",11),d(15,dt,2,1,"span",12),m(16,"isTagBasedItem"),G(17),d(18,lt,2,3,"app-item-list",13),m(19,"isTagBasedItem"),d(20,xt,4,6),m(21,"isTagBasedItem"),s()}if(t&2){let o=e,i=r();a(2),u("amount",i.amount())("quality",i.quality())("item",i.item())("context",i.context()),a(2),u("uiIcon",i.uiIcon.CROSS),a(),u("itemName",Q(o.iconName))("amount",i.amount()),a(4),g(o.displayName),a(),l(C(11,14,o)?-1:10),a(2),l(C(13,16,o)?-1:12),a(3),l(C(16,18,o)?-1:15),a(3),l(C(19,20,o)?18:-1),a(2),l(C(21,22,o)?-1:20)}}var Ot=(()=>{var e;let o=class o{constructor(){S(this,e);this.item=_.required(),this.context=_(),this.amount=_(),this.quality=_(),this.hideQualityGrid=_(!1,{transform:K}),this.uiIcon=P,this.UiIcon=P,this.listDetails=b(z),D(this,e,b(W)),this.computedItem=V(()=>{let n=this.item();if(this.isItem(n))return n;{let c=T(this,e).getItems().find(I=>I.id===B(n));if(c)return c;if(this.isCustomEntry(n))return n;if(this.isTagBasedItem(n))return T(this,e).getTagBasedItems().find(I=>I.key===B(n));console.error(`couldn't find ${B(n)} in base-card`);return}})}isTagBasedItem(n){return"key"in n}isCustomEntry(n){return"id"in n&&!n.id.toLowerCase().startsWith("item_")}isItem(n){return"sellPrice"in n&&"price"in n&&"description"in n&&n.id.toLowerCase().startsWith("item_")}};e=new WeakMap,o.\u0275fac=function(c){return new(c||o)},o.\u0275cmp=L({type:o,selectors:[["app-base-item-card"]],inputs:{item:[1,"item"],context:[1,"context"],amount:[1,"amount"],quality:[1,"quality"],hideQualityGrid:[1,"hideQualityGrid"]},ngContentSelectors:mt,decls:1,vars:1,consts:[[1,"text-lg","font-semibold","relative"],["cardActions","",1,"card-actions"],[3,"amount","quality","item","context"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],["cardIcon","",3,"amount","itemName"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"text-accent","text-2xl"],["matTooltip","Open in database","matTooltipPosition","before"],[1,"my-5"],[1,"text-lg","mb-6"],[1,"mt-6",3,"itemList"],[3,"routerLink"],[1,"focus-visible:!text-black","hover:!text-black",3,"uiIcon"],["includePrices","",1,"mt-6",3,"item"],[1,"flex"],[1,"ml-2","text-black",3,"amount"]],template:function(c,I){if(c&1&&(A(),d(0,_t,22,24,"app-card",0)),c&2){let k;l((k=I.computedItem())?0:-1,k)}},dependencies:[$,X,R,Z,J,O,tt,et,Y,nt,H,ot,U,at,rt],encapsulation:2});let t=o;return t})();export{Ot as a};
