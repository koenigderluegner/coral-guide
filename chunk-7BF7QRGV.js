import{b as E}from"./chunk-OKR7QHIK.js";import{a as D}from"./chunk-QYM5RSKG.js";import{c as L}from"./chunk-YOD5VGJA.js";import{a as V,e as x}from"./chunk-7VKCZCDP.js";import{c as S,g as F,l as f,p as O,w as M}from"./chunk-U65D7S4X.js";import{b as d}from"./chunk-IIDJZWRT.js";import{Lb as v,Mb as g,Nb as y,Ob as u,Pb as c,Qb as l,Rb as b,Za as s,kb as N,rc as h,sc as w}from"./chunk-FPTGDBQG.js";var C=[{displayName:"Default",value:"default"},{displayName:"Alphabetical",value:"alphabetical"},{displayName:"Birthdate",value:"birthdate"}],A=C.map(r=>r.value);function T(r,a){if(r&1&&(c(0,"mat-option",4),h(1),l()),r&2){let m=a.$implicit;u("value",m.value),s(),w(m.displayName)}}var J=(()=>{let a=class a{constructor(){this.searchControl=new f("",{nonNullable:!0}),this.sortControl=new f("default",{nonNullable:!0}),this.sortOrderControl=new f("asc",{nonNullable:!0}),this.searchValueChanges=d(this.searchControl.valueChanges,{initialValue:""}),this.sortValueChanges=d(this.sortControl.valueChanges,{initialValue:"default"}),this.sortOrderValueChanges=d(this.sortOrderControl.valueChanges,{initialValue:"asc"}),this.npcSortOptions=C}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=N({type:a,selectors:[["app-npc-filter"]],decls:11,vars:2,consts:[[1,"mb-5","flex","gap-x-3","gap-y-4","flex-wrap"],[1,"semi-transparent-form-field","grow","lg:grow-0","shrink-0","basis-auto"],["matInput","",3,"formControl"],["disableOptionCentering","",3,"formControl"],[3,"value"]],template:function(t,o){t&1&&(c(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),h(3,"Search term"),l(),b(4,"input",2),l(),c(5,"mat-form-field",1)(6,"mat-label"),h(7,"Sorting"),l(),c(8,"mat-select",3),g(9,T,2,2,"mat-option",4,v),l()()()),t&2&&(s(4),u("formControl",o.searchControl),s(4),u("formControl",o.sortControl),s(),y(o.npcSortOptions))},dependencies:[x,E,V,L,D,M,S,F,O],encapsulation:2});let r=a;return r})();var k=new Map([["Spring",100],["Summer",200],["Fall",300],["Winter",400]]);function Q(r,a,m){switch(m){case"alphabetical":r=[...r].sort((e,t)=>{let o="characterName"in e?e.characterName:e.npc?.characterName??"",p="characterName"in t?t.characterName:t.npc?.characterName??"";return o.toLowerCase()==="universal"?1:p.toLowerCase()==="universal"?-1:o.localeCompare(p)});break;case"birthdate":r=[...r].sort((e,t)=>{let o="characterName"in e?e.characterName:e.npc?.characterName??"",p="characterName"in t?t.characterName:t.npc?.characterName??"";if(o.toLowerCase()==="universal")return 1;if(p.toLowerCase()==="universal")return-1;let i="npc"in e?e.npc?.birthday:e.birthday,n="npc"in t?t.npc?.birthday:t.birthday;if(!i&&n)return 1;if(i&&!n)return-1;if(!i&&!n)return 0;i=i,n=n;let B=(k.get(i.season)??0)+i.day,I=(k.get(n.season)??0)+n.day;return B-I});break}return a?r.filter(e=>("characterName"in e?e.characterName:e.npc?.characterName??"").toLowerCase().includes(a)):r}export{J as a,Q as b};
