import{a as ot,b as st}from"./chunk-4FC5X73U.js";import{a as it,b as mt}from"./chunk-W62UHBDW.js";import{a as et}from"./chunk-MCZ27GCN.js";import{a as nt,b as at}from"./chunk-XCL4JOYZ.js";import{b as lt}from"./chunk-3NZE6WSA.js";import{d as Z}from"./chunk-IP6ODCNA.js";import{b as J}from"./chunk-5BU3IDKS.js";import{a as tt}from"./chunk-24VFFX2T.js";import{c as Y}from"./chunk-C6P6X2N5.js";import{a as X}from"./chunk-OTWAXCZF.js";import{h as W}from"./chunk-NKAP6NYB.js";import{a as M}from"./chunk-KM3RDE6Q.js";import{h as V,k as z,o as H}from"./chunk-PK2RARDK.js";import{$a as y,$b as B,Bc as R,G as P,Gb as c,Hb as E,Ib as p,Ic as S,Kc as _,Lc as x,Mc as U,Nb as o,Ob as m,Pb as l,Qb as a,Qc as I,Sc as j,Wb as O,Ya as n,Yc as u,_c as K,bc as d,ca as D,ic as G,id as $,jb as Q,kc as L,pb as A,qc as b,rc as T,sa as v,sc as w}from"./chunk-ELCUH6OG.js";import{f as h,g as q,h as F}from"./chunk-IGH4DTA6.js";var rt=t=>["/database",t],ct=t=>({$implicit:t});function pt(t,i){t&1&&a(0,"mat-spinner",5)}function dt(t,i){if(t&1&&(c(0,pt,1,0,"mat-spinner",5),a(1,"app-to-do-toggle",6)),t&2){let e=d();p(e.isFetching()?0:-1),n(),o("item",i.item)("context",e.context())("amount",e.amount())("quality",e.quality())}}function ut(t,i){if(t&1&&a(0,"app-item-icon",4),t&2){let e=d();o("itemName",R(i.item.iconName))("amount",e.amount())}}function ft(t,i){t&1&&O(0)}function bt(t,i){if(t&1&&a(0,"app-quality-grid",17),t&2){let e=d();o("item",e.item)}}function _t(t,i){if(t&1&&(m(0,"div",18),b(1," Sells for: "),a(2,"app-money",19),l()),t&2){let e=d();n(2),o("amount",e.item.sellPrice)}}function Ct(t,i){if(t&1&&(m(0,"div",7)(1,"div",8)(2,"div",9),b(3),_(4,"translate"),l(),m(5,"span",10),b(6),_(7,"addSpacesToPascalCase"),l()(),m(8,"span",11)(9,"a",12),a(10,"app-ui-icon",13),l()()(),a(11,"hr",14),m(12,"span",15),b(13),_(14,"translate"),l(),A(15,ft,1,0,"ng-container",16),c(16,bt,1,1,"app-quality-grid",17),_(17,"keyvalue"),E(18,_t,3,1,"div",18)),t&2){let e=i,g=d();n(3),T(x(4,8,e.item.displayName)),n(3),w(" ",x(7,10,e.item.displayKey)),n(3),o("routerLink",S(17,rt,e.item.id)),n(),o("uiIcon",g.uiIcon.DATABASE),n(3),T(U(14,12,e.item.description,e.item.translateParams)),n(2),o("ngTemplateOutlet",g.databaseItemDetails()??null)("ngTemplateOutletContext",S(19,ct,e)),n(),p(x(17,15,e.item.qualities).length&&!g.hideQualityGrid()?16:18)}}function xt(t,i){t&1&&a(0,"mat-spinner",20)}function It(t,i){if(t&1&&c(0,xt,1,0,"mat-spinner",20),t&2){let e=d();p(e.isFetching()?0:-1)}}var Rt=(()=>{var i;let e=class e{constructor(){q(this,i);this.itemId=u.required(),this.hideQualityGrid=u(!1,{transform:$}),this.context=u(),this.amount=u(),this.quality=u(),this.databaseItemDetails=K(y),this.databaseItem=v(void 0),this.isFetching=v(!1),this.UiIcon=M,this.uiIcon=M,this.listDetails=D(et),this.database=D(J),j(()=>{F(this,i,setTimeout(()=>I(()=>this.isFetching.set(!0)),150)),this.database.fetchDatabaseItem$(this.itemId()).pipe(P(1)).subscribe({next:C=>{I(()=>{clearTimeout(h(this,i)),this.isFetching.set(!1),this.databaseItem.set(C)})},error:()=>{clearTimeout(h(this,i)),I(()=>this.isFetching.set(!1))}})})}};i=new WeakMap,e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=Q({type:e,selectors:[["app-database-item-details"]],contentQueries:function(s,r,f){s&1&&G(f,r.databaseItemDetails,y,5),s&2&&L()},inputs:{itemId:[1,"itemId"],hideQualityGrid:[1,"hideQualityGrid"],context:[1,"context"],amount:[1,"amount"],quality:[1,"quality"]},decls:8,vars:4,consts:[[1,"text-lg","font-semibold","relative"],["cardActions","",1,"card-actions"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],["cardIcon","",3,"amount","itemName"],["diameter","30"],[3,"item","context","amount","quality"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"text-accent","text-2xl"],["matTooltip","Open in database","matTooltipPosition","before"],[3,"routerLink"],[1,"focus-visible:!text-black","hover:!text-black",3,"uiIcon"],[1,"my-5"],[1,"text-lg","mb-6"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["includePrices","",1,"mt-6",3,"item"],[1,"flex"],[1,"ml-2","text-black",3,"amount"],[1,"mx-auto"]],template:function(s,r){if(s&1&&(m(0,"app-card",0)(1,"div",1),c(2,dt,2,5),m(3,"button",2),B("click",function(){return r.listDetails.close()}),a(4,"app-ui-icon",3),l()(),c(5,ut,1,3,"app-item-icon",4),c(6,Ct,19,21)(7,It,1,1),l()),s&2){let f,k,N;n(2),p((f=r.databaseItem())?2:-1,f),n(2),o("uiIcon",r.uiIcon.CROSS),n(),p((k=r.databaseItem())?5:-1,k),n(),p((N=r.databaseItem())?6:7,N)}},dependencies:[H,V,at,nt,W,ot,X,Y,mt,st,lt,tt,z,it,Z],encapsulation:2});let t=e;return t})();export{Rt as a};
