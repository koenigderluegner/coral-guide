import{a as j}from"./chunk-JMLNX5PQ.js";import{a as W}from"./chunk-PFH6XL6Y.js";import{a as K}from"./chunk-Q6TTGOE2.js";import{b as $}from"./chunk-3NZE6WSA.js";import{d as M}from"./chunk-IP6ODCNA.js";import{b as R}from"./chunk-2SASL4UW.js";import{t as V}from"./chunk-PK2RARDK.js";import{$b as y,Cc as B,Gb as f,Ib as d,Ic as F,Kb as x,Kc as c,Lb as h,Lc as s,Mb as v,Nb as g,Ob as a,Pb as l,Qb as O,Xb as w,Xc as P,Ya as r,Yc as G,bc as p,ca as N,ia as _,ja as C,jb as q,nc as b,qc as u,rc as A,sa as k,sc as S,vc as E,wc as I,xc as D}from"./chunk-ELCUH6OG.js";var z=i=>[i];function L(i,n){if(i&1&&(a(0,"div",1),u(1),c(2,"translate"),l()),i&2){let e=p();r(),S(" Reward: ",s(2,1,e.offeringAltar().offeringGroupRewardText)," ")}}function H(i,n){if(i&1){let e=w();a(0,"div",5),c(1,"translate"),c(2,"translate"),y("click",function(){let m=_(e).$implicit,o=p(2);return C(o.activeOffering=m)}),O(3,"img",6),c(4,"translate"),a(5,"div",7),u(6),c(7,"translate"),l()()}if(i&2){let e=n.$implicit,t=p(2);b("bg-merino-300",s(1,7,t.activeOffering==null?null:t.activeOffering.title)===s(2,9,e.title)),r(3),g("alt",B("",s(4,11,e.title)," offering icon"))("ngSrc",B("",t.bundleAssetPath()+e.imageName,".webp")),r(3),A(s(7,13,e.title))}}function J(i,n){if(i&1&&(a(0,"div",2),h(1,H,8,15,"div",4,x),l()),i&2){let e=p();r(),v(e.offeringAltar().offerings)}}function Q(i,n){if(i&1&&O(0,"app-offerings-table",3),i&2){let e=p();g("dataSource",F(1,z,e.offeringAltar()))}}function U(i,n){if(i&1){let e=w();a(0,"app-item-icon",12),c(1,"entityKey"),y("click",function(){let m=_(e).$implicit,o=p(2);return C(o.showDetails(m.item))}),l()}if(i&2){let e=n.$implicit,t=p(2);b("selected-icon",t.selectedEntity()&&s(1,4,t.selectedEntity())===e.item.id),g("amount",e.amount)("itemName",e.item.iconName)}}function X(i,n){if(i&1){let e=w();a(0,"app-item-icon",13),c(1,"entityKey"),c(2,"entityKey"),y("click",function(){let m=_(e).$implicit,o=p(2);return C(o.showDetails(m))}),l()}if(i&2){let e=n.$implicit,t=p(2);b("selected-icon",t.selectedEntity()&&s(1,5,t.selectedEntity())===s(2,7,e.item)),g("amount",e.amount)("itemName",e.item.iconName)("quality",e.quality)}}function Y(i,n){if(i&1&&(a(0,"div",8),u(1," Rewards: "),l(),a(2,"div",9),h(3,U,2,6,"app-item-icon",10,x),l(),a(5,"div",8),u(6),l(),a(7,"div",9),h(8,X,3,9,"app-item-icon",11,x),l()),i&2){let e=p();r(3),v(e.activeOffering.rewards.items),r(3),S(" ",e.activeOffering.numOfItemRequired===-1?"All":e.activeOffering.numOfItemRequired," of the following items are required: "),r(2),v(e.activeOffering.requiredItems)}}var ce=(()=>{let n=class n{constructor(){this.offeringAltar=G.required(),this.selectedEntity=G.required(),this.selected=P(),this.showTable=!1,this.useBeta=N(R).getSettings().useBeta,this.bundleAssetPath=k(`assets/${this.useBeta?"beta":"live"}/items/icons/`)}showDetails(t){t?this.entryForToDo="item"in t?{itemEntry:t.item,amount:t.amount,quality:t.quality}:{itemEntry:t}:this.entryForToDo=void 0,t&&"amount"in t?this.selected.emit(t.item):this.selected.emit(t)}};n.\u0275fac=function(m){return new(m||n)},n.\u0275cmp=q({type:n,selectors:[["app-offering-group"]],inputs:{offeringAltar:[1,"offeringAltar"],selectedEntity:[1,"selectedEntity"]},outputs:{selected:"selected"},decls:5,vars:5,consts:[[3,"showTableChange","showTable"],[1,"bg-merino","rounded-lg","mb-4","text-lg","font-semibold","p-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[3,"dataSource"],[1,"rounded-lg","bg-merino","flex","flex-col","items-center","gap-4","px-4","py-8","hover:bg-merino-200",3,"bg-merino-300"],[1,"rounded-lg","bg-merino","flex","flex-col","items-center","gap-4","px-4","py-8","hover:bg-merino-200",3,"click"],["height","128","width","128",3,"alt","ngSrc"],[1,"text-lg","font-semibold"],[1,"bg-merino","rounded-lg","mb-4","text-lg","font-semibold","p-4","my-8"],[1,"icon-grid","mt-8"],[1,"icon-grid-item",3,"amount","selected-icon","itemName"],[1,"icon-grid-item",3,"amount","selected-icon","itemName","quality"],[1,"icon-grid-item",3,"click","amount","itemName"],[1,"icon-grid-item",3,"click","amount","itemName","quality"]],template:function(m,o){m&1&&(a(0,"app-data-filter",0),D("showTableChange",function(T){return I(o.showTable,T)||(o.showTable=T),T}),l(),f(1,L,3,3,"div",1),f(2,J,3,0,"div",2),f(3,Q,1,3,"app-offerings-table",3),f(4,Y,10,1)),m&2&&(E("showTable",o.showTable),r(),d(o.offeringAltar().offeringGroupRewardText?1:-1),r(),d(o.showTable?-1:2),r(),d(o.showTable?3:-1),r(),d(o.activeOffering&&!o.showTable?4:-1))},dependencies:[V,K,W,$,j,M],encapsulation:2});let i=n;return i})();export{ce as a};
