import{a as L}from"./chunk-XQTXOEWR.js";import{a as U}from"./chunk-G62XKNEO.js";import{a as B}from"./chunk-GWHIDO34.js";import"./chunk-IEIN2YGJ.js";import{a as W}from"./chunk-SKYGTZSD.js";import"./chunk-4FC5X73U.js";import"./chunk-EEJJBISB.js";import"./chunk-W62UHBDW.js";import{a as V,c as A}from"./chunk-C5INTR5H.js";import"./chunk-MG3YOV2C.js";import{a as z}from"./chunk-Q6TTGOE2.js";import"./chunk-32PODRCK.js";import{b as R}from"./chunk-MCZ27GCN.js";import"./chunk-XCL4JOYZ.js";import"./chunk-PEGVYEIS.js";import"./chunk-EAHNU44C.js";import{b as O}from"./chunk-3NZE6WSA.js";import"./chunk-NS43UFKU.js";import"./chunk-DS5QD6KN.js";import"./chunk-XMGSTBON.js";import"./chunk-VEYYY66H.js";import"./chunk-4I65K53K.js";import{i as N}from"./chunk-AZ3T5YEV.js";import"./chunk-7MLGAPHH.js";import"./chunk-IP6ODCNA.js";import"./chunk-5BU3IDKS.js";import"./chunk-I7ZNO67X.js";import"./chunk-24VFFX2T.js";import{a as G}from"./chunk-7M6VBWZN.js";import"./chunk-C6P6X2N5.js";import"./chunk-YU6OV3L2.js";import"./chunk-OTWAXCZF.js";import"./chunk-NKAP6NYB.js";import"./chunk-KM3RDE6Q.js";import"./chunk-JY3RTIIU.js";import"./chunk-2SASL4UW.js";import"./chunk-B7M7KWVX.js";import{i as k}from"./chunk-PK2RARDK.js";import{$b as F,Gb as p,Ib as m,Kb as h,Kc as $,Lb as x,Lc as J,Mb as T,Nb as l,Ob as c,Pb as d,Qb as _,R as D,Rc as j,Xb as g,Ya as s,Yc as M,bc as r,ia as C,ja as b,jb as u,nb as I,nc as f,pb as v,qc as y,rc as w,vc as P,wc as S,xc as E}from"./chunk-ELCUH6OG.js";import"./chunk-IGH4DTA6.js";function Q(e,i){if(e&1&&(c(0,"div"),y(1,"Enchantment points: "),c(2,"span",2),y(3),d()()),e&2){let t=r();f("mb-3",t.details().chanceAsProcessResult),s(3),w(t.details().enchantmentPoints)}}function X(e,i){if(e&1&&_(0,"app-shop-processing-result",1),e&2){let t=r();l("itemProcessData",t.details().chanceAsProcessResult)}}var q=(()=>{let i=class i{constructor(){this.details=M.required()}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=u({type:i,selectors:[["app-db-item-found"]],inputs:{details:[1,"details"]},decls:2,vars:2,consts:[[3,"mb-3"],[1,"mb-4",3,"itemProcessData"],[1,"text-black"]],template:function(n,a){n&1&&(p(0,Q,4,3,"div",0),p(1,X,1,1,"app-shop-processing-result",1)),n&2&&(m(a.details().enchantmentPoints?0:-1),s(),m(a.details().chanceAsProcessResult?1:-1))},dependencies:[L],encapsulation:2});let e=i;return e})();function Y(e,i){if(e&1&&_(0,"app-db-item-found",4),e&2){let t=i.$implicit;l("details",t)}}function Z(e,i){if(e&1&&(c(0,"app-database-item-details",0),v(1,Y,1,1,"ng-template",3),d()),e&2){let t=r();l("itemId",t.selectedEntity.id)("context",t.toDoContext())}}function ee(e,i){if(e&1){let t=g();c(0,"app-item-icon",9),F("click",function(){let n=C(t).$implicit,a=r(4);return b(a.showDetails(n))}),d()}if(e&2){let t=i.$implicit,o=r(4);f("selected-icon",(o.selectedEntity==null?null:o.selectedEntity.id)===t.id),l("itemName",t.iconName)}}function te(e,i){if(e&1&&(c(0,"div",6),x(1,ee,1,3,"app-item-icon",8,h),d()),e&2){let t=r();s(),T(t)}}function ie(e,i){if(e&1&&_(0,"app-non-specialized-table",7),e&2){let t=r();l("dataSource",t)}}function ne(e,i){if(e&1&&(p(0,te,3,0,"div",6),p(1,ie,1,1,"app-non-specialized-table",7)),e&2){let t=r(2);m(t.showTable?-1:0),s(),m(t.showTable?1:-1)}}function oe(e,i){if(e&1){let t=g();c(0,"mat-tab",2)(1,"app-data-filter",5),E("showTableChange",function(n){C(t);let a=r();return S(a.showTable,n)||(a.showTable=n),b(n)}),d(),p(2,ne,2,2),$(3,"async"),d()}if(e&2){let t,o=i.$implicit,n=r();l("label",o.title),s(),P("showTable",n.showTable),l("parentFormGroup",n.formControl),s(),m((t=J(3,4,o.data))?2:-1,t)}}var De=(()=>{let i=class i extends B{constructor(){super(new N({})),this.contextsPerTab=["journal_artifacts","journal_gems","journal_fossils","journal_scavangables"],this.toDoContext=j(()=>{let o=this.selectedTabIndex();return this.contextsPerTab[o]}),this.tabs=[{title:"Artifacts",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artifacts"),this._database.fetchItems$(),0)},{title:"Gems",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-gems"),this._database.fetchItems$(),1)},{title:"Fossils",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fossils"),this._database.fetchItems$(),2)},{title:"Scavangables",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-scavangable"),this._database.fetchItems$(),3)}],this.activateTabFromRoute(this.tabs.map(o=>o.title))}ngAfterViewInit(){let o=this.matTabGroup();o?.selectedIndexChange.pipe(G(this.destroyRef),D(o?.selectedIndex??0)).subscribe({next:n=>{this.selectedTabIndex.set(n)}})}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=u({type:i,selectors:[["app-found"]],features:[I],decls:5,vars:2,consts:[["listDetail","",3,"itemId","context"],[3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],[3,"details"],[3,"showTableChange","showTable","parentFormGroup"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"]],template:function(n,a){n&1&&(c(0,"app-list-detail-container"),p(1,Z,2,2,"app-database-item-details",0),c(2,"mat-tab-group",1),F("selectedTabChange",function(H){return a.updateUrl(H)}),x(3,oe,4,6,"mat-tab",2,h),d()()),n&2&&(s(),m(a.selectedEntity?1:-1),s(),l("selectedIndex",a.selectedTabIndex()),s(),T(a.tabs))},dependencies:[R,W,V,A,q,z,O,U,k],encapsulation:2});let e=i;return e})();export{De as FoundComponent};
