import{h as j}from"./chunk-7C5Y62SY.js";import{b as m}from"./chunk-G2FIETR4.js";import{a as L,e as B}from"./chunk-7DQT77OQ.js";import{P as s,V as r,Z as H,ca as c,k as P,ma as O,p as A,q as G,xa as M}from"./chunk-FPTGDBQG.js";import{a as u,b as C,d as a,e as f,f as g,g as E}from"./chunk-2QKSPLSF.js";var D=(()=>{let _=class _{constructor(){this.settings=c(m).getSettings(),this.http=c(L);let e=this.settings.useBeta?"beta":"live",N=this.settings.language??"en";this.BASE_PATH=`assets/${e}/database`,this.BASE_PATH_WITH_LANG=`assets/${e}/database/${N}`}};_.\u0275fac=function(N){return new(N||_)},_.\u0275prov=H({token:_,factory:_.\u0275fac,providedIn:"root"});let p=_;return p})();var J=(()=>{var _,o,e,T;let S=class S extends D{constructor(){super(...arguments);f(this,e);f(this,_);f(this,o);g(this,_,c(O)),this._ITEMS=[],this._JOURNAL_ORDERS=new Map,this._TAG_BASED_ITEMS=[],this._GIFT_PREFERENCES=[],this._SHOP_ITEMS=new Map,this._FESTIVAL_DATA=new Map,this._SHOP_PROCESS_ITEMS=new Map,this._ITEM_UPGRADE=new Map,this._NPCS=[],this._PROCESSOR_MAPPING={},this._COOKING_UTENSIL_MAPPING={},this._DATABASE_ITEMS=new Map,g(this,o,new Map)}fetchDatabaseItem$(t){return this._DATABASE_ITEMS.has(t)?P(this._DATABASE_ITEMS.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/items/${t}.json`).pipe(r(i=>this._DATABASE_ITEMS.set(t,i)),s(1))}getItems(){return this._ITEMS}fetchItems$(){return this._ITEMS$||(this._ITEMS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/items.json`).pipe(r(t=>this._ITEMS=t),s(1))),this._ITEMS$}fetchMailData$(){return this._MAIL_DATA$||(this._MAIL_DATA$=this.http.get(`${this.BASE_PATH_WITH_LANG}/mail-data.json`).pipe(s(1))),this._MAIL_DATA$}fetchBestiary(){return E(this,e,T).call(this,`${this.BASE_PATH_WITH_LANG}/bestiary.json`)}fetchAnimals(){return E(this,e,T).call(this,`${this.BASE_PATH_WITH_LANG}/animal-data.json`)}fetchAnimalMoodData(){return E(this,e,T).call(this,`${this.BASE_PATH_WITH_LANG}/animal-mood-size.json`)}fetchAnimalShopData(t){return E(this,e,T).call(this,`${this.BASE_PATH_WITH_LANG}/${t}-animal-shop-data.json`)}fetchTornPagesData$(){return this._TORN_PAGES_DATA$||(this._TORN_PAGES_DATA$=this.http.get(`${this.BASE_PATH_WITH_LANG}/torn-pages.json`).pipe(s(1))),this._TORN_PAGES_DATA$}getCookingUtensilMapping(){return this._COOKING_UTENSIL_MAPPING}fetchCookingUtensilMapping$(){return this._COOKING_UTENSIL_MAPPING$||(this._COOKING_UTENSIL_MAPPING$=this.http.get(`${this.BASE_PATH_WITH_LANG}/cooking-utensil-mapping.json`).pipe(A(t=>t[0]),r(t=>this._COOKING_UTENSIL_MAPPING=t),s(1))),this._COOKING_UTENSIL_MAPPING$}getProcessorMapping(){return this._PROCESSOR_MAPPING}fetchProcessorMapping$(){return this._PROCESSOR_MAPPING$||(this._PROCESSOR_MAPPING$=this.http.get(`${this.BASE_PATH_WITH_LANG}/processor-mapping.json`).pipe(A(t=>t[0]),r(t=>this._PROCESSOR_MAPPING=t),s(1))),this._PROCESSOR_MAPPING$}getNPCs(){return this._NPCS}fetchNPCs$(){return this._NPCS$||(this._NPCS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/npcs.json`).pipe(r(t=>this._NPCS=t),s(1))),this._NPCS$}fetchHeartEvents$(){return this._HEART_EVENTS$||(this._HEART_EVENTS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/heart-events.json`).pipe(A(t=>t[0]),s(1))),this._HEART_EVENTS$}fetchMuseumChecklist$(){return this._MUSEUM_CHECKLIST$||(this._MUSEUM_CHECKLIST$=this.http.get(`${this.BASE_PATH_WITH_LANG}/museum-checklist.json`).pipe(A(t=>t[0]),s(1))),this._MUSEUM_CHECKLIST$}fetchCookingRecipesChecklist$(){return this._COOKING_RECIPES_CHECKLIST$||(this._COOKING_RECIPES_CHECKLIST$=this.http.get(`${this.BASE_PATH_WITH_LANG}/cooking-recipes-checklist.json`).pipe(A(t=>t[0]),s(1))),this._COOKING_RECIPES_CHECKLIST$}fetchAchievements(){return E(this,e,T).call(this,`${this.BASE_PATH_WITH_LANG}/achievements.json`)}fetchOfferings$(){return this._OFFERINGS$||(this._OFFERINGS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/offerings.json`).pipe(s(1))),this._OFFERINGS$}fetchConsumables$(){return this._CONSUMABLES$||(this._CONSUMABLES$=this.http.get(`${this.BASE_PATH_WITH_LANG}/consumables.json`).pipe(s(1))),this._CONSUMABLES$}fetchItemMixingRecipeData(){return E(this,e,T).call(this,`${this.BASE_PATH_WITH_LANG}/underwater-seeds-item-mixing-data.json`)}fetchFish$(){return this._FISH$||(this._FISH$=this.http.get(`${this.BASE_PATH_WITH_LANG}/fish.json`).pipe(s(1))),this._FISH$}fetchCraftingRecipes$(){return this._CRAFTING_RECIPE$||(this._CRAFTING_RECIPE$=G([this.http.get(`${this.BASE_PATH_WITH_LANG}/crafting-recipes.json`),this.fetchItems$(),this.fetchTagBasedItems$()]).pipe(A(([t,i,n])=>(t.forEach(h=>{h.item=i.find($=>$.id===h.key.toLowerCase()),h.genericIngredients.forEach($=>$.genericItem=n.find(I=>I.key===$.key))}),t))).pipe(s(1))),this._CRAFTING_RECIPE$}fetchItemProcessingRecipes$(){return this._ITEM_PROCESSING_RECIPE$||(this._ITEM_PROCESSING_RECIPE$=G([this.http.get(`${this.BASE_PATH_WITH_LANG}/item-processing.json`),this.fetchTagBasedItems$(),this.fetchItems$()]).pipe(A(([t,i,n])=>{let h=t[0];return Object.keys(h).forEach($=>{h[$].forEach(I=>{I.machine=$,I.genericInput&&(I.genericInput.genericItem=i.find(R=>R.key===I.genericInput?.key)),I.output.item.sellPrice=n.find(R=>R.id===I.output.item.id)?.sellPrice})}),h}),s(1))),this._ITEM_PROCESSING_RECIPE$}fetchCookingRecipes$(){return this._COOKING_RECIPE$||(this._COOKING_RECIPE$=this.http.get(`${this.BASE_PATH_WITH_LANG}/cooking-recipes.json`).pipe(A(t=>t[0]),s(1))),this._COOKING_RECIPE$}fetchTreasureHunts$(){return this._TREASURE_HUNTS$||(this._TREASURE_HUNTS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/treasure-hunt-maps.json`).pipe(s(1))),this._TREASURE_HUNTS$}fetchTagBasedItems$(){return this._TAG_BASED_ITEMS$||(this._TAG_BASED_ITEMS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/tag-based-items.json`).pipe(r(t=>this._TAG_BASED_ITEMS=t),s(1))),this._TAG_BASED_ITEMS$}getTagBasedItems(){return this._TAG_BASED_ITEMS}fetchOceanCritters$(){return this._OCEAN_CRITTERS$||(this._OCEAN_CRITTERS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/ocean-critters.json`).pipe(s(1))),this._OCEAN_CRITTERS$}fetchBugsAndInsects$(){return this._BUGS_AND_INSECTS$||(this._BUGS_AND_INSECTS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/bugs-and-insects.json`).pipe(s(1))),this._BUGS_AND_INSECTS$}fetchCrops$(){return this._CROPS$||(this._CROPS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/crops.json`).pipe(s(1))),this._CROPS$}fetchFruitTrees$(){return this._FRUIT_TREES$||(this._FRUIT_TREES$=this.http.get(`${this.BASE_PATH_WITH_LANG}/fruit-trees.json`).pipe(s(1))),this._FRUIT_TREES$}fetchFruitPlants$(){return this._FRUIT_PLANTS$||(this._FRUIT_PLANTS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/fruit-plants.json`).pipe(s(1))),this._FRUIT_PLANTS$}fetchJournalOrder$(t){return this._JOURNAL_ORDERS.get(t)||this._JOURNAL_ORDERS.set(t,this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}.json`).pipe(s(1))),this._JOURNAL_ORDERS.get(t)}fetchGiftingPreferences$(){return this._GIFT_PREFERENCES$||(this._GIFT_PREFERENCES$=this.http.get(`${this.BASE_PATH_WITH_LANG}/gift-preferences.json`).pipe(A(t=>j(t)),r(t=>this._GIFT_PREFERENCES=t),s(1))),this._GIFT_PREFERENCES$}getGiftingPreferences(){return this._GIFT_PREFERENCES}fetchPetShopAdoptions$(){return this._PET_SHOP_ADOPTIONS$||(this._PET_SHOP_ADOPTIONS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/pet-shop-adoptions.json`).pipe(s(1))),this._PET_SHOP_ADOPTIONS$}fetchShopProcessItems$(t){return this._SHOP_PROCESS_ITEMS.has(t)?P(this._SHOP_PROCESS_ITEMS.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-shop-process-items.json`).pipe(r(i=>this._SHOP_PROCESS_ITEMS.set(t,i)),s(1))}fetchItemUpgradeData$(t){return this._ITEM_UPGRADE.has(t)?P(this._ITEM_UPGRADE.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-item-upgrade.json`).pipe(r(i=>this._ITEM_UPGRADE.set(t,i)),s(1))}fetchOpeningHours$(t){return E(this,e,T).call(this,`${this.BASE_PATH_WITH_LANG}/${t}-opening-hours.json`,{parse:i=>i[0]})}fetchShopItemData$(t){return this._SHOP_ITEMS.has(t)?P(this._SHOP_ITEMS.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-shop-items.json`).pipe(r(i=>this._SHOP_ITEMS.set(t,i)),s(1))}fetchFestivalData$(t){return this._FESTIVAL_DATA.has(t)?P(this._FESTIVAL_DATA.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-festival-data.json`).pipe(A(i=>i[0]),r(i=>this._FESTIVAL_DATA.set(t,i)),s(1))}fetchFestivalOpeningHours$(t){return E(this,e,T).call(this,`${this.BASE_PATH_WITH_LANG}/${t}-festival-opening-hours.json`,{parse:i=>i[0]})}fetchMeritExchangeShopData$(){return this._MERIT_EXCHANGE_SHOP_DATA$||(this._MERIT_EXCHANGE_SHOP_DATA$=this.http.get(`${this.BASE_PATH_WITH_LANG}/merit-exchange-shop-items.json`).pipe(s(1))),this._MERIT_EXCHANGE_SHOP_DATA$}};_=new WeakMap,o=new WeakMap,e=new WeakSet,T=function(t,i){let n=typeof t=="string"?t:t();if(!n)throw new Error("Missing URL");let h=a(this,o).get(n);return h||(h=B(t,C(u({},i),{injector:a(this,_)})),a(this,o).set(n,h)),h},S.\u0275fac=(()=>{let t;return function(n){return(t||(t=M(S)))(n||S)}})(),S.\u0275prov=H({token:S,factory:S.\u0275fac,providedIn:"root"});let p=S;return p})();export{D as a,J as b};
