import{a as S}from"./chunk-SI42NBAZ.js";import{c as h}from"./chunk-FKI6MOIH.js";import{i as G}from"./chunk-U65D7S4X.js";import{o as x}from"./chunk-HIFLNZD5.js";import{a as L}from"./chunk-SAY5CNC2.js";import{R as g,_c as M,ca as p,db as v,dd as T,k as l,kb as C,kc as w,lc as Q,ob as D,p as y,q as b}from"./chunk-FPTGDBQG.js";import{a as u,b as d}from"./chunk-2QKSPLSF.js";var W=(()=>{let r=class r extends S{constructor(o){super(),this.matTabGroup=M(h),this.uiIcon=L,this.tabs=[],this.media=p(x),this.changeDetectorRef=p(T),this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>this.changeDetectorRef.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener),this.formControl=o}getFilteredJournalData(o,t,a){return b([o,t,this.formControl.valueChanges.pipe(g(this.formControl.value)),l(a)]).pipe(y(([F,I,f,P])=>{let c=[];return F.sort((n,i)=>n.order>i.order?1:-1).forEach(n=>{let i=I.find(e=>"dropData"in e?e.dropData[0].item?.id===n.key:"item"in e?e.item.id===n.key:e.id===n.key);if(i){let e=[i];f.showTable&&"spawnSettings"in i&&(e=i.spawnSettings.map(k=>d(u({},i),{spawnSettings:[k]})).flat());for(let s of e)this.filterPredicate||c.push(s),this.filterPredicate&&this.filterPredicate(s,f,P)&&c.push(s)}}),c}))}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}};r.\u0275fac=function(t){return new(t||r)(v(G))},r.\u0275cmp=C({type:r,selectors:[["ng-component"]],viewQuery:function(t,a){t&1&&w(a.matTabGroup,h,5),t&2&&Q()},features:[D],decls:0,vars:0,template:function(t,a){},encapsulation:2});let m=r;return m})();export{W as a};
