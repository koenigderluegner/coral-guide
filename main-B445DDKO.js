import{a as ht}from"./chunk-OKLTRTR4.js";import{b as $e,c as ze,d as Ze,e as Ke,f as Xe,g as Je}from"./chunk-WVAF3DK7.js";import{a as et}from"./chunk-ZB23GXIF.js";import"./chunk-QO7XVRXL.js";import{a as Ge,b as Qe,c as qe}from"./chunk-ZUWS2VZG.js";import{b as ut}from"./chunk-FKI6MOIH.js";import{a as tt}from"./chunk-OYPR7CJS.js";import"./chunk-YOD5VGJA.js";import{c as oe}from"./chunk-EJRI7FQQ.js";import"./chunk-XMGSTBON.js";import{d as mt}from"./chunk-7VKCZCDP.js";import"./chunk-RIQ7EVWM.js";import"./chunk-U65D7S4X.js";import{w as He,x as Ye}from"./chunk-IJY46FI3.js";import{b as We}from"./chunk-CXGH7SOD.js";import"./chunk-D33HMA7I.js";import"./chunk-IIDJZWRT.js";import{c as dt}from"./chunk-7MFI6IJ7.js";import"./chunk-HIFLNZD5.js";import{a as Q}from"./chunk-ZALICU3N.js";import{a as nt,d as rt,f as K,g as it,h as X,i as ot,j as at,k as st,l as lt,m as pt}from"./chunk-47OJ7DES.js";import{a as y}from"./chunk-SAY5CNC2.js";import{a as Ne,b as Fe,c as Ue,e as Be,f as Ve}from"./chunk-BFCDBX46.js";import{b as S,c as J,d as ct}from"./chunk-G2FIETR4.js";import{b as Le,c as Pe,d as je}from"./chunk-7DQT77OQ.js";import{i as Ae,t as Re}from"./chunk-OHR5KDYC.js";import{A as F,Bb as ee,Fa as ye,G as I,Hb as E,Ib as ke,Ic as Z,Jb as T,Lb as te,Lc as Ee,Mb as ne,Mc as Te,Nb as re,Ob as v,Pb as l,Qb as p,Rb as m,S as L,W as w,X as ce,Yb as xe,Z as _,Za as c,_ as de,aa as V,ac as $,ba as q,bb as be,c as U,ca as s,cc as z,cd as Oe,da as W,ea as ue,eb as we,f as B,gb as Ce,ia as me,ja as he,k as le,kb as M,lb as Me,ma as G,mc as _e,na as ge,oc as ie,p as x,q as pe,qb as Se,rc as d,sc as O,ta as fe,tc as Ie,ub as H,vb as De,xa as ve,z as C,zb as Y}from"./chunk-FPTGDBQG.js";import{a as k,b as N,d as h,e as b,f as j}from"./chunk-2QKSPLSF.js";function Tt(n,e){if(n&1&&(d(0," - "),l(1,"span"),d(2),p()),n&2){let t=z();c(2),O(t.dialogData.changelog.date)}}var gt=(()=>{var e;let t=class t{constructor(){b(this,e);this.dialogData=s($e),j(this,e,s(S))}toggleDisableChangelog(r){h(this,e).saveSettings(N(k({},h(this,e).getSettings()),{disableChangelogs:r.checked}))}};e=new WeakMap,t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=M({type:t,selectors:[["app-changelog-dialog"]],decls:13,vars:3,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[3,"data"],[1,"!justify-between"],[3,"change"],["matDialogClose","",1,"btn-amber"]],template:function(o,a){o&1&&(l(0,"h1",0),d(1,"Changelog"),p(),l(2,"mat-dialog-content",1)(3,"div",2)(4,"span"),d(5),p(),E(6,Tt,3,1),p(),m(7,"markdown",3),p(),l(8,"mat-dialog-actions",4)(9,"mat-checkbox",5),$("change",function(g){return a.toggleDisableChangelog(g)}),d(10,"Don't show changelogs"),p(),l(11,"button",6),d(12,"Close"),p()()),o&2&&(c(5),O(a.dialogData.changelog.version),c(),T(a.dialogData.changelog.date?6:-1),c(),v("data",a.dialogData.changelog.body))},dependencies:[Je,Ze,Ke,Xe,Qe,et],styles:["[_nghost-%COMP%]{--mat-dialog-subhead-weight: 700;--mat-dialog-subhead-size: 1.5rem;--mat-dialog-subhead-line-height: 1.8rem}"]});let n=t;return n})();var Ot=()=>["cdk-overlay-dark-backdrop","!transition-none"],ft=()=>["text-white","active"];function At(n,e){n&1&&(l(0,"span",7),d(1,"BETA"),p())}function Rt(n,e){if(n&1&&(l(0,"li")(1,"a",15),m(2,"app-ui-icon",16),l(3,"span",17),d(4),p()()()),n&2){let t=e.$implicit;c(),v("routerLink",t.path)("routerLinkActive",Z(4,ft)),c(),v("uiIcon",t.uiIcon),c(2),O(t.text)}}function Nt(n,e){if(n&1&&(l(0,"li",19)(1,"a",20),m(2,"app-ui-icon",21),l(3,"span",22),d(4),p()()()),n&2){let t=e.$implicit;c(),v("routerLinkActive",Z(4,ft))("routerLink",t.path),c(),v("uiIcon",t.uiIcon),c(2),O(t.text)}}function Ft(n,e){if(n&1&&(l(0,"ul",18),ne(1,Nt,5,5,"li",19,te),p()),n&2){let t=z();c(),re(t.naviLinks)}}var vt=(()=>{var e;let t=class t{constructor(){b(this,e);this.naviLinks=[{text:"Journal",uiIcon:y.JOURNAL,path:"journal/produce/crops"},{text:"Crafting",uiIcon:y.CRAFTING,path:"crafting"},{text:"NPCs",uiIcon:y.PEOPLE,path:"npcs"},{text:"Locations",uiIcon:y.MAP,path:"locations"},{text:"My Guide",uiIcon:y.MY_CORAL,path:"my"},{text:"Item database",uiIcon:y.DATABASE,path:"database"}],this.isOpen=!1,this.uiIcon=y,this.isBeta=s(S).getSettings().useBeta,j(this,e,s(it)),h(this,e).events.pipe(F(r=>r instanceof nt)).subscribe(()=>{this.isOpen=!1})}};e=new WeakMap,t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=M({type:t,selectors:[["app-header"]],hostAttrs:[1,"app-header"],hostVars:2,hostBindings:function(o,a){o&2&&ie("open-menu",a.isOpen)},decls:19,vars:9,consts:[["trigger","cdkOverlayOrigin"],[1,"flex","justify-between","px-4"],[1,"relative","flex"],["routerLink","/",1,"flex","gap-x-4","items-center","text-header"],["alt","Super Coral. Logo of the website.","src","assets/ui/images/icons/Super_Coral.png",1,"h-12","w-12","xl:w-16","xl:h-16"],[1,"text-4xl","font-semibold","hidden","xl:block"],[1,"text-4xl","font-semibold","block","xl:hidden"],[1,"beta-badge","xl:!top-5","leading-none","font-bold","text-black","absolute","px-1.5","py-1","rounded-sm","right-0"],[1,"hidden","md:block"],[1,"flex","gap-x-6"],[1,"block","md:hidden"],["cdkOverlayOrigin","","type","button",1,"flex","flex-col","py-3","px-2","text-neutral-400","hover:text-neutral-300","items-center","text-center",3,"click"],[1,"!h-10","!w-10","max-xl",3,"uiIcon"],[1,"user-sync","hidden","xl:block"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","",3,"cdkConnectedOverlayBackdropClass","cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin","cdkConnectedOverlayPanelClass"],[1,"flex","flex-col","py-3","px-2","text-neutral-400","hover:text-neutral-300","items-center","text-center",3,"routerLink","routerLinkActive"],[1,"!h-6","!w-6","xl:!h-12","xl:!w-12","mb-2","max-xl",3,"uiIcon"],[1,"xl:text-lg","font-semibold"],[1,"py-4"],[1,"my-2"],[1,"flex","py-3","px-4","text-neutral-400","hover:text-neutral-300","items-center",3,"routerLinkActive","routerLink"],[1,"!h-6","!w-6","mr-3","max-xl",3,"uiIcon"],[1,"font-semibold"]],template:function(o,a){if(o&1){let u=xe();l(0,"div",1)(1,"div",2)(2,"a",3),m(3,"img",4),l(4,"span",5),d(5,"Coral Guide"),p(),l(6,"span",6),d(7,"CG"),p()(),E(8,At,2,0,"span",7),p(),l(9,"nav",8)(10,"ul",9),ne(11,Rt,5,5,"li",null,te),p()(),l(13,"div",10)(14,"button",11,0),$("click",function(){return me(u),he(a.isOpen=!a.isOpen)}),m(16,"app-ui-icon",12),p()(),m(17,"div",13),p(),Se(18,Ft,3,0,"ng-template",14)}if(o&2){let u=_e(15);c(8),T(a.isBeta?8:-1),c(3),re(a.naviLinks),c(5),ie("!text-accent",a.isOpen),v("uiIcon",a.uiIcon.BURGER_MENU),c(2),v("cdkConnectedOverlayBackdropClass",Z(8,Ot))("cdkConnectedOverlayOpen",a.isOpen)("cdkConnectedOverlayOrigin",u)("cdkConnectedOverlayPanelClass","mobile-menu-panel")}},dependencies:[Ye,ot,X,Q,He],styles:[`.app-header{--header-text-color: #8a7c67;display:block;--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);padding-right:env(safe-area-inset-right);padding-left:env(safe-area-inset-left);padding-top:env(safe-area-inset-top);background-color:#000000bf}.app-header.open-menu{z-index:1001}.app-header .active .app-ui-icon{--tw-text-opacity: 1;color:rgb(216 158 67 / var(--tw-text-opacity))}.mobile-menu-panel{display:block;--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);padding-right:env(safe-area-inset-right);padding-left:env(safe-area-inset-left);background-color:#000000bf;left:0!important;right:0!important}.mobile-menu-panel .active .app-ui-icon{--tw-text-opacity: 1;color:rgb(216 158 67 / var(--tw-text-opacity))}.text-header{color:var(--header-text-color)}.beta-badge{background-color:var(--header-text-color);padding:3px;font-size:80%;transform:translate(60%);top:5px;pointer-events:none}
`],encapsulation:2});let n=t;return n})();var yt=(()=>{let e=class e{constructor(){this.uiIcon=y,this.version=s(J).value()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=M({type:e,selectors:[["app-footer"]],hostAttrs:[1,"app-footer"],decls:13,vars:2,consts:[[1,"backdrop-blur-xl","px-safe","pt-4","pb-safe-or-4","text-white/70","items-center","justify-center","flex","gap-2","flex-wrap"],[1,"!text-gifting/80","!w-5","!h-5",3,"uiIcon"],["routerLink","/about",1,"text-accent"],["fragment","support","routerLink","/about",1,"text-accent"],["href","https://github.com/koenigderluegner/coral-island-guide","target","_blank","rel","noopener noreferrer",1,"text-accent","inline-flex","gap-2"],["ngSrc","/assets/ui/images/icons/github-mark.svg","width","16","height","16"]],template:function(r,o){r&1&&(l(0,"footer",0),d(1," Made with "),m(2,"app-ui-icon",1),d(3," by Koenig. "),l(4,"a",2),d(5,"About Coral Guide"),p(),d(6," - "),l(7,"a",3),d(8,"Support Coral Guide"),p(),d(9),l(10,"a",4),m(11,"img",5),d(12," Code on GitHub"),p()()),r&2&&(c(2),v("uiIcon",o.uiIcon.LOVE),c(7),Ie(" - Data from game version (steam): ",o.version," - "))},dependencies:[Q,X,Re],styles:[`.app-footer footer{background-color:#000000bf;min-height:var(--cg-min-footer-height)}
`],encapsulation:2});let n=e;return n})();function Lt(n,e){n&1&&m(0,"router-outlet")}function Pt(n,e){n&1&&m(0,"mat-spinner",1)}var bt=(()=>{var e,t,i,r;let o=class o{constructor(){b(this,e,s(We));b(this,t,s(Ge));b(this,i,s(ze));b(this,r,s(S));s(tt).read(),h(this,r).getSettings().disableChangelogs||De(()=>{h(this,t).getLatestChangelog().subscribe({next:u=>{if(u.version===h(this,t).getLatestSeen())return;h(this,i).open(gt,{data:{changelog:u},hasBackdrop:!0,width:"800px"}).afterClosed().subscribe({next:()=>{h(this,t).setLatestSeen(u)}})}})}),this.prefetchData$=pe([h(this,e).fetchItems$(),h(this,e).fetchTagBasedItems$(),h(this,e).fetchProcessorMapping$(),h(this,e).fetchCookingUtensilMapping$()])}};e=new WeakMap,t=new WeakMap,i=new WeakMap,r=new WeakMap,o.\u0275fac=function(g){return new(g||o)},o.\u0275cmp=M({type:o,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"flex-grow-0","flex-shrink-0"],[1,"text-white","mx-auto","my-5"]],template:function(g,f){if(g&1&&(m(0,"app-header",0),l(1,"main"),E(2,Lt,1,0,"router-outlet"),Ee(3,"async"),ke(4,Pt,1,0,"mat-spinner",1),p(),m(5,"app-footer",0)),g&2){let D;c(2),T((D=Te(3,1,f.prefetchData$))?2:4,D)}},dependencies:[vt,rt,dt,yt,Ae],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - (var(--cg-min-header-height) + var(--cg-min-footer-height)))}"]});let n=o;return n})();var wt=[{path:"",pathMatch:"full",loadComponent:()=>import("./chunk-KR7J6OLY.js").then(n=>n.StartComponent)},{path:"journal",loadChildren:()=>import("./chunk-FE6CBEWP.js").then(n=>n.routes)},{path:"database",title:"Database",loadComponent:()=>import("./chunk-ZUDWH42D.js").then(n=>n.DatabaseComponent)},{path:"database/:itemId",title:"Database",loadComponent:()=>import("./chunk-ZUDWH42D.js").then(n=>n.DatabaseComponent)},{path:"crafting",loadChildren:()=>import("./chunk-BLJQBBXQ.js").then(n=>n.routes)},{path:"people",pathMatch:"prefix",redirectTo:"npcs"},{path:"npcs",loadChildren:()=>import("./chunk-OG62PYO7.js").then(n=>n.routes)},{path:"locations",loadChildren:()=>import("./chunk-CTNTI36N.js").then(n=>n.routes)},{path:"settings",pathMatch:"full",redirectTo:"my/settings",data:{redirected:!0}},{path:"checklist",pathMatch:"prefix",redirectTo:"my/to-do",data:{redirected:!0}},{path:"only-in-live",loadComponent:()=>import("./chunk-DN76CZH2.js").then(n=>n.OnlyInBLiveComponent)},{path:"only-in-beta",loadComponent:()=>import("./chunk-VGNEJ7L5.js").then(n=>n.OnlyInBetaComponent)},{path:"my",loadChildren:()=>import("./chunk-KLDQPE6W.js").then(n=>n.routes)},{path:"about",loadComponent:()=>import("./chunk-DVTJV7ZA.js").then(n=>n.AboutComponent)},{path:"**",loadComponent:()=>import("./chunk-3NLOZW5I.js").then(n=>n.Error404Component)}];var jt="@",Ut=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=s(G);loadingSchedulerFn=s(Bt,{optional:!0});_engine;constructor(t,i,r,o,a){this.doc=t,this.delegate=i,this.zone=r,this.animationType=o,this.moduleImpl=a}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-JSUKIEZX.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(r=>{throw new w(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,i){let r=this.delegate.createRenderer(t,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new ae(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let u=a.createRenderer(t,i);o.use(u),this.scheduler??=this.injector.get(fe,null,{optional:!0}),this.scheduler?.notify(10)}).catch(a=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(i){we()};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),ae=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,r){this.delegate.insertBefore(e,t,i,r)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,r){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,i,r)),this.delegate.listen(e,t,i,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(jt)}},Bt=new V("");function Ct(n="animations"){return Ce("NgAsyncAnimations"),W([{provide:be,useFactory:(e,t,i)=>new Ut(e,t,i,n),deps:[ge,Ne,H]},{provide:ye,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var se="Service workers are disabled or not supported by this browser",R=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new U(i=>i.error(new w(5601,!1)));else{let i=null,r=new B;this.worker=new U(f=>(i!==null&&f.next(i),r.subscribe(D=>f.next(D))));let o=()=>{let{controller:f}=e;f!==null&&(i=f,r.next(i))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(L(()=>e.getRegistration().then(f=>{if(!f)throw new w(5601,!1);return f})));let a=new B;this.events=a.asObservable();let u=f=>{let{data:D}=f;D?.type&&a.next(D)};e.addEventListener("message",u),t?.get(ee,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",u)})}}postMessage(e,t){return new Promise(i=>{this.worker.pipe(I(1)).subscribe(r=>{r.postMessage(k({action:e},t)),i()})})}postMessageWithOperation(e,t,i){let r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=i=>i.type===e:t=i=>e.includes(i.type),this.events.pipe(F(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(I(1))}waitForOperationCompleted(e){return new Promise((t,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(F(r=>r.nonce===e),I(1),x(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).subscribe({next:t,error:i})})}get isEnabled(){return!!this.serviceWorker}},St=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new B;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=C,this.notificationClicks=C,this.notificationCloses=C,this.pushSubscriptionChanges=C,this.subscription=C;return}this.messages=this.sw.eventsOfType("PUSH").pipe(x(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(x(r=>r.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(x(r=>r.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(x(r=>r.data)),this.pushManager=this.sw.registration.pipe(x(r=>r.pushManager));let i=this.pushManager.pipe(L(r=>r.getSubscription()));this.subscription=new U(r=>{let o=i.subscribe(r),a=this.subscriptionChanges.subscribe(r);return()=>{o.unsubscribe(),a.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(se));let i={userVisibleOnly:!0},r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return i.applicationServerKey=o,new Promise((a,u)=>{this.pushManager.pipe(L(g=>g.subscribe(i)),I(1)).subscribe({next:g=>{this.subscriptionChanges.next(g),a(g)},error:u})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(se));let t=i=>{if(i===null)throw new w(5602,!1);return i.unsubscribe().then(r=>{if(!r)throw new w(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((i,r)=>{this.subscription.pipe(I(1),L(t)).subscribe({next:i,error:r})})}decodeBase64(t){return atob(t)}static \u0275fac=function(i){return new(i||n)(q(R))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),Dt=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=C,this.unrecoverable=C;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(se));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new w(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(i){return new(i||n)(q(R))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})();var kt=new V("");function Vt(){let n=s(P);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=s(kt),t=s(H),i=s(ee);t.runOutsideAngular(()=>{let r=navigator.serviceWorker,o=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",o),i.onDestroy(()=>{r.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let r,{registrationStrategy:o}=n;if(typeof o=="function")r=new Promise(a=>o().subscribe(()=>a()));else{let[a,...u]=(o||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=Mt(+u[0]||0);break;case"registerWhenStable":r=Promise.race([i.whenStable(),Mt(+u[0])]);break;default:throw new w(5600,!1)}}r.then(()=>{i.destroyed||navigator.serviceWorker.register(e,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(a=>console.error(ce(5604,!1)))})})}function Mt(n){return new Promise(e=>setTimeout(e,n))}function Wt(n,e){return new R(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var P=class{enabled;updateViaCache;type;scope;registrationStrategy};function Gt(n,e={}){return W([St,Dt,{provide:kt,useValue:n},{provide:P,useValue:e},{provide:R,useFactory:Wt,deps:[P,G]},Y(Vt)])}var xt=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[Gt(t,i)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Me({type:n});static \u0275inj=de({providers:[St,Dt]})}return n})();var _t=(()=>{let e=class e extends K{constructor(){super(...arguments),this.title=s(Ue)}updateTitle(i){let r=this.buildTitle(i);r!==void 0?this.title.setTitle(`${r} - Coral Guide`):this.title.setTitle("Coral Guide")}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ve(e)))(o||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var It=(n,e)=>{let t=s(J).value();if(n.url.includes("assets")){let i=n.clone({params:n.params.append("version",t)});return e(i)}return e(n)};var Ht={scrollPositionRestoration:"disabled",anchorScrolling:"enabled",scrollOffset:[0,64]},Et={providers:[Ve(Be()),at(wt,pt(),st(),lt(Ht)),Ct(),qe(),{provide:mt,useValue:{appearance:"outline",hideRequiredMarker:!1}},Y(()=>((e,t)=>(e||t.saveSettings(N(k({},t.getSettings()),{useBeta:!1})),()=>le()))(s(ht,{optional:!0}),s(S))()),{provide:oe,useValue:{disabled:!0}},{provide:ut,useValue:{animationDuration:"0",stretchTabs:!1}},{provide:K,useClass:_t},Le(Pe([It]),je()),ue(xt.register("ngsw-worker.js",{enabled:!Oe(),registrationStrategy:"registerWhenStable:30000"})),ct()]};Fe(bt,Et).catch(n=>console.error(n));
