import{a as U}from"./chunk-BXAGWIUB.js";import"./chunk-3MQSEQNY.js";import{a as Q}from"./chunk-GBZAIAZB.js";import"./chunk-ODWDCLXK.js";import"./chunk-F4TUYCIO.js";import{a as G}from"./chunk-4ZSEYW2U.js";import{a as W}from"./chunk-IEIN2YGJ.js";import{a as q}from"./chunk-SKYGTZSD.js";import"./chunk-4FC5X73U.js";import"./chunk-EEJJBISB.js";import{a as j}from"./chunk-W62UHBDW.js";import{a as $,c as A}from"./chunk-C5INTR5H.js";import"./chunk-MG3YOV2C.js";import{a as K}from"./chunk-Q6TTGOE2.js";import"./chunk-32PODRCK.js";import{b as R}from"./chunk-MCZ27GCN.js";import"./chunk-XCL4JOYZ.js";import"./chunk-PEGVYEIS.js";import"./chunk-EAHNU44C.js";import{b as O}from"./chunk-3NZE6WSA.js";import"./chunk-NS43UFKU.js";import"./chunk-DS5QD6KN.js";import"./chunk-XMGSTBON.js";import"./chunk-VEYYY66H.js";import"./chunk-4I65K53K.js";import"./chunk-AZ3T5YEV.js";import"./chunk-7MLGAPHH.js";import{d as V}from"./chunk-IP6ODCNA.js";import"./chunk-5BU3IDKS.js";import"./chunk-I7ZNO67X.js";import"./chunk-24VFFX2T.js";import"./chunk-7M6VBWZN.js";import"./chunk-C6P6X2N5.js";import"./chunk-YU6OV3L2.js";import"./chunk-OTWAXCZF.js";import"./chunk-NKAP6NYB.js";import{c as L}from"./chunk-KM3RDE6Q.js";import"./chunk-JY3RTIIU.js";import"./chunk-2SASL4UW.js";import"./chunk-B7M7KWVX.js";import{i as k,j as B}from"./chunk-PK2RARDK.js";import{$b as x,G as w,Gb as m,Ib as d,Kb as b,Kc as u,Lb as h,Lc as _,Mb as y,Nb as c,Ob as p,Pb as l,Qb as T,V as I,Xb as g,Ya as s,bc as r,ia as C,ja as f,jb as E,nb as N,nc as F,p as P,pb as D,vc as v,wc as S,xc as M}from"./chunk-ELCUH6OG.js";import"./chunk-IGH4DTA6.js";function H(i,o){if(i&1&&T(0,"app-processing",4),i&2){let t=r(2);c("itemProcessing",t.selectedEntity)}}function J(i,o){if(i&1&&(p(0,"app-database-item-details",0),D(1,H,1,1,"ng-template",3),l()),i&2){let t=r();c("itemId",t.selectedEntity.output.item.id)("amount",t.selectedEntity.output.amount)}}function X(i,o){if(i&1){let t=g();p(0,"app-item-icon",9),x("click",function(){let n=C(t).$implicit,a=r(4);return f(a.showDetails(n))}),l()}if(i&2){let t=o.$implicit,e=r(4);F("selected-icon",(e.selectedEntity==null||e.selectedEntity.output==null||e.selectedEntity.output.item==null?null:e.selectedEntity.output.item.id)===t.output.item.id&&(e.reusedImages.includes(t.output.item.iconName??"")?t.input.item.iconName===(e.selectedEntity==null||e.selectedEntity.input==null||e.selectedEntity.input.item==null?null:e.selectedEntity.input.item.iconName):!0)&&t.output.amount===(e.selectedEntity==null||e.selectedEntity.output==null?null:e.selectedEntity.output.amount)),c("amount",t.output.amount)("itemName",t.output.item.iconName)("subIconName",e.reusedImages.includes(t.output.item.iconName??"")?t.input.item.iconName:void 0)}}function Y(i,o){if(i&1&&(p(0,"div",6),h(1,X,1,5,"app-item-icon",8,b),l()),i&2){let t=r();s(),y(t)}}function Z(i,o){if(i&1&&T(0,"app-processor-table",7),i&2){let t=r();c("dataSource",t)}}function ee(i,o){if(i&1&&(m(0,Y,3,0,"div",6),m(1,Z,1,1,"app-processor-table",7)),i&2){let t=r(2);d(t.showTable?-1:0),s(),d(t.showTable?1:-1)}}function te(i,o){if(i&1){let t=g();p(0,"mat-tab",2),u(1,"translate"),u(2,"addSpacesToPascalCase"),u(3,"titlecase"),p(4,"app-data-filter",5),M("showTableChange",function(n){C(t);let a=r();return S(a.showTable,n)||(a.showTable=n),f(n)}),l(),m(5,ee,2,2),u(6,"async"),l()}if(i&2){let t,e=o.$implicit,n=r();c("label",n.processorMapping[e.toLowerCase()]?_(1,3,n.processorMapping[e.toLowerCase()].displayName):_(3,7,_(2,5,e))),s(4),v("showTable",n.showTable),s(),d((t=_(6,9,n.filteredData$(e)))?5:-1,t)}}var he=(()=>{let o=class o extends W{constructor(){super(),this.quality=L,this.machineNames=[],this.processorMapping=this._database.getProcessorMapping(),this.urlPathFromLabel=e=>{let n=Object.keys(this.processorMapping).find(a=>this.processorMapping[a].displayName===e);return n||e.toLowerCase().replaceAll(" ","")},this._database.fetchItemProcessingRecipes$().pipe(w(1)).subscribe({next:e=>{this.machineNames=Object.keys(e),this.activateTabFromRoute(this.machineNames)}})}filteredData$(e){return this._database.fetchItemProcessingRecipes$().pipe(P(n=>n[e]),I(n=>{this.reusedImages=this.getMultipleIconNames(n.map(a=>a.output.item.iconName??""))}))}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=E({type:o,selectors:[["app-processor"]],features:[N],decls:5,vars:2,consts:[["listDetail","","context","artisan",3,"itemId","amount"],[3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],["hideMaschine","",3,"itemProcessing"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"amount","itemName","subIconName","selected-icon"],[1,"icon-grid-item",3,"click","amount","itemName","subIconName"]],template:function(n,a){n&1&&(p(0,"app-list-detail-container"),m(1,J,2,2,"app-database-item-details",0),p(2,"mat-tab-group",1),x("selectedTabChange",function(z){return a.updateUrl(z)}),h(3,te,7,11,"mat-tab",2,b),l()()),n&2&&(s(),d(a.selectedEntity?1:-1),s(),c("selectedIndex",a.selectedTabIndex()),s(),y(a.machineNames))},dependencies:[R,q,Q,A,$,K,O,U,G,k,j,B,V],encapsulation:2});let i=o;return i})();export{he as ProcessorComponent};
