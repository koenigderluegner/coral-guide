import{a as nt,b as mt}from"./chunk-IYMAANR5.js";import{a as tt,b as at}from"./chunk-GZYBMURB.js";import{a as Z}from"./chunk-QLTEDVDB.js";import{a as et,b as it}from"./chunk-ZNXHGMTD.js";import{b as ot}from"./chunk-OU4TLBIG.js";import{b as H}from"./chunk-3AJAQBMU.js";import{a as Y}from"./chunk-VRZECYYF.js";import{c as X}from"./chunk-7MFI6IJ7.js";import{a as W}from"./chunk-ZALICU3N.js";import{h as J}from"./chunk-47OJ7DES.js";import{a as M}from"./chunk-UUI6UFCU.js";import{h as $,k as V,o as z}from"./chunk-OHR5KDYC.js";import{$c as j,Cc as R,G as Q,Hb as r,Ib as P,Jb as d,Jc as y,Lc as T,Mc as S,Ob as o,Pb as m,Qb as l,Rb as a,Rc as C,Tc as U,Xb as O,Za as n,Zc as u,ab as D,ac as G,ca as g,cc as p,jc as B,jd as K,kb as A,lc as L,qb as E,rc as b,sa as h,sc as v,tc as w}from"./chunk-FPTGDBQG.js";import{d as I,e as q,f as F}from"./chunk-2QKSPLSF.js";var lt=t=>["/database",t],st=t=>({$implicit:t});function ct(t,i){t&1&&a(0,"mat-spinner",5)}function rt(t,i){if(t&1&&(r(0,ct,1,0,"mat-spinner",5),a(1,"app-to-do-toggle",6)),t&2){let e=p();d(e.isFetching()?0:-1),n(),o("item",i.item)("context",e.context())("amount",e.amount())("quality",e.quality())}}function dt(t,i){if(t&1&&a(0,"app-item-icon",4),t&2){let e=p();o("itemName",R(i.item.iconName))("amount",e.amount())}}function pt(t,i){t&1&&O(0)}function ut(t,i){if(t&1&&a(0,"app-quality-grid",17),t&2){let e=p();o("item",e.item)}}function ft(t,i){if(t&1&&(m(0,"div",18),b(1," Sells for: "),a(2,"app-money",19),l()),t&2){let e=p();n(2),o("amount",e.item.sellPrice)}}function bt(t,i){if(t&1&&(m(0,"div",7)(1,"div",8)(2,"div",9),b(3),l(),m(4,"span",10),b(5),T(6,"addSpacesToPascalCase"),l()(),m(7,"span",11)(8,"a",12),a(9,"app-ui-icon",13),l()()(),a(10,"hr",14),m(11,"span",15),b(12),l(),E(13,pt,1,0,"ng-container",16),r(14,ut,1,1,"app-quality-grid",17),T(15,"keyvalue"),P(16,ft,3,1,"div",18)),t&2){let e=i,x=p();n(3),v(e.item.displayName),n(2),w(" ",S(6,8,e.item.displayKey)),n(3),o("routerLink",y(12,lt,e.item.id)),n(),o("uiIcon",x.uiIcon.DATABASE),n(3),v(e.item.description),n(),o("ngTemplateOutlet",x.databaseItemDetails()??null)("ngTemplateOutletContext",y(14,st,e)),n(),d(S(15,10,e.item.qualities).length&&!x.hideQualityGrid()?14:16)}}function _t(t,i){t&1&&a(0,"mat-spinner",20)}function Ct(t,i){if(t&1&&r(0,_t,1,0,"mat-spinner",20),t&2){let e=p();d(e.isFetching()?0:-1)}}var Bt=(()=>{var i;let e=class e{constructor(){q(this,i);this.itemId=u.required(),this.hideQualityGrid=u(!1,{transform:K}),this.context=u(),this.amount=u(),this.quality=u(),this.databaseItemDetails=j(D),this.databaseItem=h(void 0),this.isFetching=h(!1),this.UiIcon=M,this.uiIcon=M,this.listDetails=g(Z),this.database=g(H),U(()=>{F(this,i,setTimeout(()=>C(()=>this.isFetching.set(!0)),150)),this.database.fetchDatabaseItem$(this.itemId()).pipe(Q(1)).subscribe({next:_=>{C(()=>{clearTimeout(I(this,i)),this.isFetching.set(!1),this.databaseItem.set(_)})},error:()=>{clearTimeout(I(this,i)),C(()=>this.isFetching.set(!1))}})})}};i=new WeakMap,e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=A({type:e,selectors:[["app-database-item-details"]],contentQueries:function(s,c,f){s&1&&B(f,c.databaseItemDetails,D,5),s&2&&L()},inputs:{itemId:[1,"itemId"],hideQualityGrid:[1,"hideQualityGrid"],context:[1,"context"],amount:[1,"amount"],quality:[1,"quality"]},decls:8,vars:4,consts:[[1,"text-lg","font-semibold","relative"],["cardActions","",1,"card-actions"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],["cardIcon","",3,"amount","itemName"],["diameter","30"],[3,"item","context","amount","quality"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"text-accent","text-2xl"],["matTooltip","Open in database","matTooltipPosition","before"],[3,"routerLink"],[1,"focus-visible:!text-black","hover:!text-black",3,"uiIcon"],[1,"my-5"],[1,"text-lg","mb-6"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["includePrices","",1,"mt-6",3,"item"],[1,"flex"],[1,"ml-2","text-black",3,"amount"],[1,"mx-auto"]],template:function(s,c){if(s&1&&(m(0,"app-card",0)(1,"div",1),r(2,rt,2,5),m(3,"button",2),G("click",function(){return c.listDetails.close()}),a(4,"app-ui-icon",3),l()(),r(5,dt,1,3,"app-item-icon",4),r(6,bt,17,16)(7,Ct,1,1),l()),s&2){let f,k,N;n(2),d((f=c.databaseItem())?2:-1,f),n(2),o("uiIcon",c.uiIcon.CROSS),n(),d((k=c.databaseItem())?5:-1,k),n(),d((N=c.databaseItem())?6:7,N)}},dependencies:[z,$,it,et,J,nt,W,X,at,mt,ot,Y,V,tt],encapsulation:2});let t=e;return t})();export{Bt as a};
